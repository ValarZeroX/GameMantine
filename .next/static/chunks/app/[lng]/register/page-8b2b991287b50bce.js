(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3842],{95700:(e,t,n)=>{var i={"./en/ability.json":[13330,3330],"./en/common.json":[17056,7056],"./en/pokemon.json":[91013,1013],"./en/rule.json":[95481,5481],"./en/skill.json":[60976,976],"./zh-Hans/ability.json":[52326,2326],"./zh-Hans/common.json":[81775,1775],"./zh-Hans/pokemon.json":[66345,6345],"./zh-Hans/rule.json":[74806,4806],"./zh-Hans/skill.json":[69867,9867],"./zh-Hant/ability.json":[72975,2975],"./zh-Hant/common.json":[72349,2349],"./zh-Hant/pokemon.json":[86185,6185],"./zh-Hant/rule.json":[97637,7637],"./zh-Hant/skill.json":[1701,1701]};function s(e){if(!n.o(i,e))return Promise.resolve().then(()=>{var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=i[e],s=t[0];return n.e(t[1]).then(()=>n.t(s,19))}s.keys=()=>Object.keys(i),s.id=95700,e.exports=s},49938:(e,t,n)=>{Promise.resolve().then(n.bind(n,51023)),Promise.resolve().then(n.bind(n,85393))},51023:(e,t,n)=>{"use strict";n.d(t,{default:()=>k});var i=n(57437),s=n(2265),o=n(4301),r=n(1959),a=n(98557),l=n(99763),c=n(96293),d=n(22281),u=n(12194),m=n(11736),h=n(75513),g=n(85254),j=n(16463),p=n(87138),x=n(60327),f=n(29056),v=n(22966),b=n(47025);let k=e=>{let{lng:t}=e,{t:n}=(0,b.$)(t,"common"),k=(0,j.useRouter)(),[z,w]=(0,s.useState)(!1),y=(0,o.c)({initialValues:{name:"",email:"",password:"",confirmPassword:""},validate:{email:e=>/^\S+@\S+$/.test(e)?null:n("register.invalidEmail"),password:e=>e.length>=8?null:n("register.passwordLength"),confirmPassword:(e,t)=>e===t.password?null:n("register.passwordMismatch")}}),S=async e=>{w(!0);try{let s={...e,lng:t},o=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),r=await o.json();o.ok?((0,x.c0)({title:n("notification.success"),message:n("notification.successMessage"),color:"green",icon:(0,i.jsx)(f.Z,{size:16})}),k.push("/".concat(t,"/login"))):(0,x.c0)({title:n("notification.errorTitle"),message:r.error||n("notification.errorMessage"),color:"red",icon:(0,i.jsx)(v.Z,{size:16})})}catch(e){(0,x.c0)({title:n("notification.errorTitle"),message:n("notification.errorMessage"),color:"red",icon:(0,i.jsx)(v.Z,{size:16})})}finally{w(!1)}};return(0,i.jsxs)(r.W,{size:420,my:40,children:[(0,i.jsx)(a.M,{children:(0,i.jsx)(l.Title,{children:n("register.createAccount")})}),(0,i.jsx)(a.M,{children:(0,i.jsxs)(c.Text,{c:"dimmed",size:"sm",children:[n("register.alreadyHaveAccount")," ",(0,i.jsx)(d.e,{component:p.default,href:"/login",size:"sm",children:n("login.login")})]})}),(0,i.jsx)(u.X,{withBorder:!0,shadow:"md",p:30,mt:30,radius:"md",children:(0,i.jsxs)("form",{onSubmit:y.onSubmit(S),children:[(0,i.jsx)(m.o,{label:n("register.name"),placeholder:n("register.yourName"),...y.getInputProps("name")}),(0,i.jsx)(m.o,{label:n("register.email"),placeholder:"your@email.com",required:!0,mt:"md",...y.getInputProps("email")}),(0,i.jsx)(h.W,{label:n("register.password"),placeholder:n("register.passwordPlaceholder"),required:!0,mt:"md",...y.getInputProps("password")}),(0,i.jsx)(h.W,{label:n("register.confirmPassword"),placeholder:n("register.confirmPasswordPlaceholder"),required:!0,mt:"md",...y.getInputProps("confirmPassword")}),(0,i.jsx)(g.z,{fullWidth:!0,mt:"xl",type:"submit",loading:z,children:n("register.register")})]})})]})}},47025:(e,t,n)=>{"use strict";n.d(t,{$:()=>d});var i=n(2265),s=n(46027),o=n(90089),r=n(8358),a=n(64312),l=n(34583),c=n(70201);function d(e,t,n){let[s,a]=(0,r.fP)([c.YN]),l=(0,o.$G)(t,n),{i18n:d}=l;{let[t,n]=(0,i.useState)(d.resolvedLanguage);(0,i.useEffect)(()=>{t!==d.resolvedLanguage&&n(d.resolvedLanguage)},[d.resolvedLanguage]),(0,i.useEffect)(()=>{e&&d.resolvedLanguage!==e&&d.changeLanguage(e).then(()=>{n(e),a(c.YN,e,{path:"/"})})},[e,d,a])}return l}s.ZP.use(o.Db).use(l.Z).use((0,a.Z)((e,t)=>n(95700)("./".concat(e,"/").concat(t,".json")))).init({...(0,c.FW)(),lng:void 0,detection:{order:["path","htmlTag","cookie","navigator"]},preload:[]})},70201:(e,t,n)=>{"use strict";n.d(t,{FW:()=>a,Mj:()=>s,YN:()=>o});let i="zh-Hant",s=[i,"zh-Hant","zh-Hans"],o="i18next",r="translation";function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r;return{supportedLngs:s,fallbackLng:i,lng:e,fallbackNS:r,defaultNS:r,ns:t}}},85393:(e,t,n)=>{"use strict";n.d(t,{default:()=>T});var i=n(57437),s=n(2265),o=n(56237),r=n(93059),a=n(86608),l=n(8244),c=n(20322),d=n(78178),u=n(7497),m=n(96293),h=n(34479),g=n(2638),j=n(84571),p=n(88477),x=n(98997),f=n(1597),v=n(91905),b=n(60399);function k(){let{colorScheme:e,toggleColorScheme:t}=(0,f.X)(),[n,o]=(0,s.useState)(()=>v.Z);return(0,s.useEffect)(()=>{o("dark"===e?b.Z:v.Z)},[e]),(0,i.jsx)(u.A,{variant:"default","aria-label":"Toggle theme",size:"lg",onClick:()=>t(),children:(0,i.jsx)(n,{style:{width:"80%",height:"80%"},stroke:1.5})})}var z=n(13866),w=n.n(z),y=n(16463),S=n(30998),P=n(70201),_=n(47025);let Z=e=>{let{opened:t,toggle:n,desktopOpened:s,toggleDesktop:o,lng:r}=e,f=(0,y.useRouter)(),v=(0,y.usePathname)(),{data:b,status:z}=(0,S.useSession)(),{t:Z}=(0,_.$)(r,["common"]),C=e=>{f.push(e)},H=async()=>{await (0,S.signOut)({callbackUrl:"/"})},O=e=>{if(e===r)return;let t=v.split("/");P.Mj.includes(t[1])?t[1]=e:t.splice(1,0,e);let n=t.join("/")||"/";f.push(n)};return(0,i.jsxs)("div",{className:w().inner,children:[(0,i.jsxs)(a.Z,{h:"100%",px:"md",children:[(0,i.jsx)(l.O,{opened:t,onClick:n,hiddenFrom:"sm",size:"sm"}),(0,i.jsx)(l.O,{opened:s,onClick:o,visibleFrom:"sm",size:"sm"}),(0,i.jsx)(g.Z,{style:{width:(0,c.h)(36),height:(0,c.h)(36)},stroke:1.5,color:"var(--mantine-color-red-filled)"}),(0,i.jsx)("div",{children:"Pokemon Nier"})]}),(0,i.jsx)("div",{className:w().actionIcon,children:(0,i.jsxs)(a.Z,{children:[(0,i.jsx)(k,{}),(0,i.jsxs)(d.v,{withArrow:!0,children:[(0,i.jsx)(d.v.Target,{children:(0,i.jsx)(u.A,{variant:"default",size:"lg","aria-label":"Language",children:(0,i.jsx)(j.Z,{})})}),(0,i.jsxs)(d.v.Dropdown,{children:[(0,i.jsx)(d.v.Label,{children:Z("common:navigation.language_selection")}),(0,i.jsx)(d.v.Item,{onClick:()=>O("zh-Hans"),children:(0,i.jsx)(m.Text,{children:"简体中文"})}),(0,i.jsx)(d.v.Item,{onClick:()=>O("zh-Hant"),children:(0,i.jsx)(m.Text,{children:"繁體中文"})})]})]}),"loading"===z?(0,i.jsx)(u.A,{variant:"default",size:"lg","aria-label":"Loading",children:(0,i.jsx)(h.a,{color:"blue"})}):b?(0,i.jsx)(u.A,{variant:"default",size:"lg","aria-label":"Logout",onClick:H,children:(0,i.jsx)(p.Z,{})}):(0,i.jsx)(u.A,{variant:"default",size:"lg","aria-label":"Login",onClick:()=>C("/login"),children:(0,i.jsx)(x.Z,{})})]})})]})};var C=n(59223),H=n(70999),O=n(37341),N=n(55553),L=n(26804);let M=e=>{let{lng:t}=e,n=(0,y.useRouter)(),{data:s,status:o}=(0,S.useSession)(),{t:r}=(0,_.$)(t,["common"]),a=e=>{n.push(e)};return(0,i.jsxs)("nav",{children:[(0,i.jsx)(C.O,{component:"button",label:r("common:navigation.home"),leftSection:(0,i.jsx)(H.Z,{size:"1rem",stroke:1.5}),onClick:()=>a("/")}),(0,i.jsx)(C.O,{component:"button",label:r("common:navigation.cards"),leftSection:(0,i.jsx)(O.Z,{size:"1rem",stroke:1.5}),onClick:()=>a("/cards")}),(0,i.jsxs)(C.O,{component:"button",label:r("common:navigation.deck"),leftSection:(0,i.jsx)(N.Z,{size:"1rem",stroke:1.5}),children:[(0,i.jsx)(C.O,{label:r("common:navigation.deck_list"),onClick:()=>a("/decks/list")}),(0,i.jsx)(C.O,{label:r("common:navigation.create_deck"),onClick:()=>a("/decks/build")}),s&&(0,i.jsx)(C.O,{label:r("common:navigation.my_decks"),onClick:()=>a("/decks/user")})]}),(0,i.jsx)(C.O,{component:"button",label:r("common:navigation.about"),leftSection:(0,i.jsx)(L.Z,{size:"1rem",stroke:1.5}),onClick:()=>a("/about")})]})};function T(e){let{children:t,lng:n}=e,[s,{toggle:a}]=(0,r.q)(),[l,{toggle:c}]=(0,r.q)(!0);return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(o.V,{header:{height:60},navbar:{width:300,breakpoint:"sm",collapsed:{mobile:!s,desktop:!l}},padding:"md",children:[(0,i.jsx)(o.V.Header,{children:(0,i.jsx)(Z,{opened:s,toggle:a,desktopOpened:l,toggleDesktop:c,lng:n})}),(0,i.jsx)(o.V.Navbar,{p:"md",children:(0,i.jsx)(M,{lng:n})}),(0,i.jsx)(o.V.Main,{children:t})]})})}},13866:e=>{e.exports={inner:"Header_inner__BWOOt",link:"Header_link___GWEF",actionIcon:"Header_actionIcon__d8zIz"}},22281:(e,t,n)=>{"use strict";n.d(t,{e:()=>d});var i=n(57437),s=n(44839);n(2265);var o=n(50591),r=n(869),a=n(96293),l={root:"m_849cf0da"};let c={underline:"hover"},d=(0,r.b)((e,t)=>{let{underline:n,className:r,unstyled:d,mod:u,...m}=(0,o.w)("Anchor",c,e);return(0,i.jsx)(a.Text,{component:"a",ref:t,className:(0,s.Z)({[l.root]:!d},r),...m,mod:[{underline:n},u],__staticSelector:"Anchor",unstyled:d})});d.classes=l,d.displayName="@mantine/core/Anchor"},98557:(e,t,n)=>{"use strict";n.d(t,{M:()=>d});var i=n(57437);n(2265);var s=n(50591),o=n(86348),r=n(17750),a=n(869),l={root:"m_4451eb3a"};let c={},d=(0,a.b)((e,t)=>{let n=(0,s.w)("Center",c,e),{classNames:a,className:d,style:u,styles:m,unstyled:h,vars:g,inline:j,mod:p,...x}=n,f=(0,o.y)({name:"Center",props:n,classes:l,className:d,style:u,classNames:a,styles:m,unstyled:h,vars:g});return(0,i.jsx)(r.x,{ref:t,mod:[{inline:j},p],...f("root"),...x})});d.classes=l,d.displayName="@mantine/core/Center"},12194:(e,t,n)=>{"use strict";n.d(t,{X:()=>h});var i=n(57437);n(2265);var s=n(94120),o=n(15593),r=n(50591),a=n(86348),l=n(17750),c=n(869),d={root:"m_1b7284a3"};let u={},m=(0,o.Z)((e,t)=>{let{radius:n,shadow:i}=t;return{root:{"--paper-radius":void 0===n?void 0:(0,s.H5)(n),"--paper-shadow":(0,s.Xj)(i)}}}),h=(0,c.b)((e,t)=>{let n=(0,r.w)("Paper",u,e),{classNames:s,className:o,style:c,styles:h,unstyled:g,withBorder:j,vars:p,radius:x,shadow:f,variant:v,mod:b,...k}=n,z=(0,a.y)({name:"Paper",props:n,classes:d,className:o,style:c,classNames:s,styles:h,unstyled:g,vars:p,varsResolver:m});return(0,i.jsx)(l.x,{ref:t,mod:[{"data-with-border":j},b],...z("root"),variant:v,...k})});h.classes=d,h.displayName="@mantine/core/Paper"},60327:(e,t,n)=>{"use strict";n.d(t,{yK:()=>c,N9:()=>d,Ps:()=>o,c0:()=>l,zn:()=>r});var i=n(64881),s=n(2265);let o=function(e){let t=e,n=!1,i=new Set;return{getState:()=>t,updateState(e){t="function"==typeof e?e(t):e},setState(e){this.updateState(e),i.forEach(e=>e(t))},initialize(e){n||(t=e,n=!0)},subscribe:e=>(i.add(e),()=>i.delete(e))}}({notifications:[],queue:[],defaultPosition:"bottom-right",limit:5}),r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return(0,s.useSyncExternalStore)(e.subscribe,()=>e.getState(),()=>e.getState())};function a(e,t){let n=e.getState(),i=function(e,t,n){let i=[],s=[],o={};for(let r of e){let e=r.position||t;o[e]=o[e]||0,o[e]+=1,o[e]<=n?s.push(r):i.push(r)}return{notifications:s,queue:i}}(t([...n.notifications,...n.queue]),n.defaultPosition,n.limit);e.setState({notifications:i.notifications,queue:i.queue,limit:n.limit,defaultPosition:n.defaultPosition})}function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,n=e.id||(0,i.k)();return a(t,t=>e.id&&t.some(t=>t.id===e.id)?t:[...t,{...e,id:n}]),n}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return a(t,t=>t.filter(t=>{if(t.id===e){var n;return null===(n=t.onClose)||void 0===n||n.call(t,t),!1}return!0})),e}let d={show:l,hide:c,update:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return a(t,t=>t.map(t=>t.id===e.id?{...t,...e}:t)),e.id},clean:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;a(e,()=>[])},cleanQueue:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;a(e,t=>t.slice(0,e.getState().limit))},updateState:a}},29056:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var i=(0,n(55487).Z)("outline","check","IconCheck",[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]])},22966:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var i=(0,n(55487).Z)("outline","x","IconX",[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[4977,5501,8839,5588,5319,5948,2976,7235,1736,888,7130,6215,1744],()=>t(49938)),_N_E=e.O()}]);