(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7502],{95700:(e,n,t)=>{var a={"./en/ability.json":[13330,3330],"./en/common.json":[17056,7056],"./en/pokemon.json":[91013,1013],"./en/rule.json":[95481,5481],"./en/skill.json":[60976,976],"./zh-Hans/ability.json":[52326,2326],"./zh-Hans/common.json":[81775,1775],"./zh-Hans/pokemon.json":[66345,6345],"./zh-Hans/rule.json":[74806,4806],"./zh-Hans/skill.json":[69867,9867],"./zh-Hant/ability.json":[72975,2975],"./zh-Hant/common.json":[72349,2349],"./zh-Hant/pokemon.json":[86185,6185],"./zh-Hant/rule.json":[97637,7637],"./zh-Hant/skill.json":[1701,1701]};function s(e){if(!t.o(a,e))return Promise.resolve().then(()=>{var n=Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n});var n=a[e],s=n[0];return t.e(n[1]).then(()=>t.t(s,19))}s.keys=()=>Object.keys(a),s.id=95700,e.exports=s},13290:(e,n,t)=>{Promise.resolve().then(t.bind(t,25673)),Promise.resolve().then(t.bind(t,85393))},25673:(e,n,t)=>{"use strict";t.d(n,{default:()=>es});var a=t(57437),s=t(2265),l=t(1597),o=t(86608),i=t(99075),r=t(96293),c=t(22281),d=t(1959),m=t(98557),h=t(41707),x=t(99763),u=t(49304),j=t(7497),g=t(49309),p=t(35671),k=t(83184),b=t(71719),f=t(91601),_=t(27260),v=t(14986),w=t(30712),y=t(41198),C=t(13251),z=t(11736),Z=t(70132),T=t(30269),S=t(34479),E=t(9538),N=t(17750),R=t(82277),O=t(77967),L=t(22966),A=t(29056),H=t(64022),P=t(45896),F=t(43487),D=t(62751),I=t(54452),M=t(76815),U=t(83094),G=t(60912),K=t(32342),W=t(54310),B=t(87138),V=t(47025),J=t(61067),$=t.n(J),X=t(16463),Y=t(35106),q=t(98179),Q=t(81173),ee=t.n(Q),en=t(30998),et=t(60327),ea=t(81822);let es=e=>{let{lng:n}=e,{data:t}=(0,en.useSession)(),{colorScheme:J}=(0,l.X)(),[Q,es]=(0,s.useState)("#228be6"),[el,eo]=(0,s.useState)("red");(0,s.useEffect)(()=>{"dark"===J?(es("white"),eo("white")):(es("#228be6"),eo("red"))},[J]),(0,X.useRouter)();let{t:ei}=(0,V.$)(n,["pokemon","common","skill","ability","rule"]),{id:er}=(0,X.useParams)(),[ec,ed]=(0,s.useState)(null),[em,eh]=(0,s.useState)(null),[ex,eu]=(0,Y.Z)("searchTerm",""),[ej,eg]=(0,s.useState)([]),[ep,ek]=(0,s.useState)([]),[eb,ef]=(0,s.useState)(null),[e_,ev]=(0,s.useState)({}),[ew,ey]=(0,s.useState)("grid"),[eC,ez]=(0,s.useState)("grid"),[eZ,eT]=(0,Y.Z)("isFilterOpen",!1),[eS,eE]=(0,Y.Z)("selectedSets",[]),[eN,eR]=(0,Y.Z)("selectedDexs",[]),[eO,eL]=(0,Y.Z)("selectedAspects",[]),[eA,eH]=(0,Y.Z)("selectedRarity",[]),[eP,eF]=(0,Y.Z)("selectedType",[]),[eD,eI]=(0,Y.Z)("selectedWeakness",[]),[eM,eU]=(0,Y.Z)("selectedRetreat",[]),[eG,eK]=(0,Y.Z)("hpRange",[0,250]),[eW,eB]=(0,Y.Z)("attackRange",[0,250]),[eV,eJ]=(0,s.useState)(""),[e$,eX]=(0,Y.Z)("selectedDeckEdit",[]),[eY,eq]=(0,s.useState)(!1),eQ=(0,s.useRef)(null),[e0,e1]=(0,s.useState)(20);(0,s.useEffect)(()=>{let e=localStorage.getItem("displayMode");("grid"===e||"list"===e)&&(ez(e),ey(e))},[]);let e2=e=>{ez(e),ey(e),localStorage.setItem("displayMode",e)},e5=e=>n=>{e_[e]=n,ev(e_)},e6=["A1","PROMO-A"].map(e=>({value:e,label:"(".concat(e,")").concat(ei("common:cardSet.".concat(e)))})),e7=["A1C","A1M","A1P"].map(e=>({value:e,label:"(".concat(e,")").concat(ei("common:cardDex.".concat(e)))})),e3=["grass","fire","water","lightning","psychic","fighting","darkness","metal","dragon","colorless"].map(e=>({value:e,label:"".concat(ei("common:".concat(e)))})),e9=["Common","Uncommon","Rare","DoubleRare","ArtRare","SuperRare","ImmersiveRare","UltraRare"].map(e=>({value:e,label:"".concat(ei("common:".concat(e)))})),e4=["pokemon","item","supporter"].map(e=>({value:e,label:"".concat(ei("common:".concat(e)))})),e8=["1","2","3","4","5"].map(e=>({value:e,label:e})),ne=async e=>{try{let n=e.length>0?"?sets=".concat(e.join(",")):"",t=await fetch("/api/card".concat(n));if(!t.ok)throw Error(ei("common:notification.error_fetch_card_data"));let a=await t.json();ek(a)}catch(e){ek([])}};(0,s.useEffect)(()=>{0===eS.length?(ek([]),eg([])):ne(eS)},[eS]),(0,s.useEffect)(()=>{let e=ep;if(ex){let n=ex.toLowerCase();e=e.filter(e=>ei("pokemon:".concat(e.name)).toLowerCase().includes(n)||ei("skill:".concat(e.attack_name_1,".name")).toLowerCase().includes(n)||ei("skill:".concat(e.attack_name_1,".description")).toLowerCase().includes(n)||ei("skill:".concat(e.attack_name_2,".name")).toLowerCase().includes(n)||ei("skill:".concat(e.attack_name_2,".description")).toLowerCase().includes(n)||ei("ability:".concat(e.ability_name,".name")).toLowerCase().includes(n)||ei("ability:".concat(e.ability_name,".description")).toLowerCase().includes(n))}if(eS.length>0&&(e=e.filter(e=>eS.includes(e.set))),eN.length>0&&(e=e.filter(e=>e.dex.some(e=>eN.includes(e)))),eO.length>0){let n=eO.map(e=>ea.KH[e]).filter(e=>"number"==typeof e);e=e.filter(e=>n.includes(e.aspects))}if(eA.length>0){let n=eA.map(e=>ea.l6[e]).filter(e=>"number"==typeof e);e=e.filter(e=>n.includes(e.rarity))}if(eP.length>0){let n=eP.map(e=>ea.D[e]).filter(e=>"number"==typeof e);e=e.filter(e=>n.includes(e.type))}if(eD.length>0){let n=eD.map(e=>ea.KH[e]).filter(e=>"number"==typeof e);e=e.filter(e=>n.includes(e.weakness))}if(eM.length>0){let n=eM.map(e=>Number(e)).filter(e=>!isNaN(e));e=e.filter(e=>n.includes(e.retreat))}eg(e=(e=e.filter(e=>e.hp>=eG[0]&&e.hp<=eG[1])).filter(e=>e.attack_1>=eW[0]&&e.attack_1<=eW[1]||null!=e.attack_2&&e.attack_2>=eW[0]&&e.attack_2<=eW[1])),e1(20)},[ep,ex,eS,eN,eO,eA,eP,eD,eM,eG,eW]);let nn=e=>{let{option:n}=e;return(0,a.jsxs)(o.Z,{gap:"sm",children:[(0,a.jsx)(i.E,{src:"/common/".concat(n.value,".webp"),alt:ei("common:".concat(n.value)),height:20,width:20}),(0,a.jsx)(r.Text,{size:"sm",children:ei("common:".concat(n.value))})]})},nt=(0,a.jsx)(O.Z,{}),na=e=>{e$.filter(n=>n.id===e.id).length>=2||e$.length>=20||eX([...e$,e])},ns=(0,s.useMemo)(()=>[...e$].sort((e,n)=>{let t=e.number.split("-"),a=n.number.split("-"),s=t.slice(0,-1).join("-").toUpperCase(),l=a.slice(0,-1).join("-").toUpperCase();return s<l?-1:s>l?1:parseInt(t[t.length-1],10)-parseInt(a[a.length-1],10)}),[e$]),nl=e=>{let n=e$.findIndex(n=>n.id===e.id&&n.number===e.number&&n.set===e.set);if(-1!==n){let e=[...e$];e.splice(n,1),eX(e)}},no=(0,s.useMemo)(()=>{let e={pokemon:0,item:0,supporter:0};return e$.forEach(n=>{0===n.type?e.pokemon+=1:1===n.type?e.item+=1:2===n.type&&(e.supporter+=1)}),e},[e$]),ni=(0,s.useMemo)(()=>({pokemon:5*no.pokemon,item:5*no.item,supporter:5*no.supporter}),[no]),nr=(0,s.useMemo)(()=>e$.reduce((e,n)=>e+ea.pt[n.rarity],0),[e$,ea.pt]),nc=async()=>{if(eQ.current){let e=eQ.current.cloneNode(!0);e.style.backgroundColor="dark"===J?"#242424":"#FFFFFF",document.body.appendChild(e);let n=await ee()(e,{backgroundColor:null,useCORS:!0});document.body.removeChild(e);let t=n.toDataURL("image/png"),a=document.createElement("a");a.href=t,a.download="pokemonnier.png",a.click()}},nd=async()=>{if(!(null==t?void 0:t.user)){(0,et.c0)({title:ei("common:notification.error_not_logged_in"),message:ei("common:notification.error_please_login"),color:"red",icon:(0,a.jsx)(L.Z,{size:16})});return}let e=eV.trim();if(e.length>50){(0,et.c0)({title:ei("common:notification.error_name_too_long"),message:ei("common:notification.error_deck_name_length"),color:"red",icon:(0,a.jsx)(L.Z,{size:16})});return}let n=e$.map(e=>e.number).sort().join(",");if(20!==e$.length){(0,et.c0)({title:ei("common:notification.error_title"),message:ei("common:notification.error_deck_size"),color:"red",icon:(0,a.jsx)(L.Z,{size:16})});return}eq(!0);try{let t=await fetch("/api/decks/user/".concat(er,"/edit"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({deckCards:n,deckName:e||ei("common:notification.notification_unnamed")})}),s=await t.json();t.ok?(0,et.c0)({title:ei("common:notification.success"),message:ei("common:notification.success_deck_saved"),color:"green",icon:(0,a.jsx)(A.Z,{size:16})}):(0,et.c0)({title:ei("common:notification.error"),message:s.message||ei("common:notification.error_save_deck_failed"),color:"red",icon:(0,a.jsx)(L.Z,{size:16})})}catch(e){(0,et.c0)({title:ei("common:notification.error"),message:ei("common:notification.error_save_deck"),color:"red",icon:(0,a.jsx)(L.Z,{size:16})})}finally{eq(!1)}},nm=(0,s.useMemo)(()=>{let e=new Map;return ep.forEach(n=>{e.set(n.number,n)}),e},[ep]);(0,s.useEffect)(()=>{if(!t){eh(ei("common:notification.error_unauthorized"));return}if(!(!er||Array.isArray(er))){if(0===ep.length){eh(ei("common:notification.error_card_data_not_loaded"));return}(async()=>{try{let e=await fetch("/api/decks/user/".concat(er,"/edit"),{method:"GET",credentials:"include"});if(!e.ok){let n=await e.json();eh(n.message||ei("common:notification.error_fetch_deck"));return}let n=await e.json();ed(n);let t=n.deck.deckCards.split(",").map(e=>e.trim()).map(e=>{let n=nm.get(e);return n?{...n}:null}).filter(e=>null!==e);eJ(n.deckName),eX(t)}catch(e){eh(ei("common:notification.error_fetch_deck"))}})()}},[t,er,ep,nm]);let nh=[{title:ei("common:navigation.home"),href:"/"},{title:ei("common:navigation.my_decks"),href:"/decks/user"},{title:ei("common:title.decks_user_edit_title"),href:"#"}].map((e,n)=>(0,a.jsx)(c.e,{href:e.href,children:e.title},n));return(0,a.jsx)(d.W,{size:"lg",children:(null==t?void 0:t.user)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.O,{children:nh}),(0,a.jsx)(x.Title,{order:1,mt:"sm",children:ei("common:title.decks_user_edit_title")}),(0,a.jsxs)(o.Z,{mt:"md",justify:"flex-end",align:"center",children:[(0,a.jsx)(u.I,{placeholder:ei("common:deck_name"),value:eV,onChange:e=>{let n=e.currentTarget.value;n.length<=30&&eJ(n)},maxLength:30,style:{flexGrow:1}}),(0,a.jsx)(j.A,{variant:"default",size:"lg",onClick:()=>{eX([])},children:(0,a.jsx)(H.Z,{})}),(0,a.jsx)(j.A,{variant:"default",size:"lg",onClick:nc,children:(0,a.jsx)(P.Z,{})}),(0,a.jsx)(j.A,{variant:"default",size:"lg",onClick:nd,loading:eY,children:(0,a.jsx)(F.Z,{})})]}),(0,a.jsxs)("div",{ref:eQ,children:[(0,a.jsx)(g.r,{mt:"md",columns:10,children:ns.map((e,t)=>(0,a.jsxs)(g.r.Col,{span:{base:2,sm:2,md:1,lg:1},children:[(0,a.jsx)(i.E,{radius:"md",src:"/".concat(n,"/").concat(e.set,"/").concat(e.number,".webp"),alt:ei("pokemon:".concat(e.name)),onClick:()=>nl(e)}),(0,a.jsx)(r.Text,{size:"xs",mt:"xs",children:ei("pokemon:".concat(e.name))}),(0,a.jsxs)(r.Text,{size:"xs",children:["#",e.number]})]},"".concat(e.id,"-").concat(t)))}),(0,a.jsx)(g.r,{children:(0,a.jsx)(g.r.Col,{span:12,children:(0,a.jsxs)(p.Z,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,children:[(0,a.jsxs)(o.Z,{mb:"md",children:[(0,a.jsx)(k.C,{color:"cyan",variant:"filled",children:ei("common:pokemon")}),(0,a.jsx)(k.C,{color:"pink",variant:"filled",children:ei("common:item")}),(0,a.jsx)(k.C,{color:"orange",variant:"filled",children:ei("common:supporter")})]}),(0,a.jsxs)(b.E.Root,{size:"20",children:[(0,a.jsx)(b.E.Section,{value:ni.pokemon,color:"cyan",children:(0,a.jsx)(b.E.Label,{children:no.pokemon})}),(0,a.jsx)(b.E.Section,{value:ni.item,color:"pink",children:(0,a.jsx)(b.E.Label,{children:no.item})}),(0,a.jsx)(b.E.Section,{value:ni.supporter,color:"orange",children:(0,a.jsx)(b.E.Label,{children:no.supporter})})]})]})})}),(0,a.jsxs)(g.r,{children:[(0,a.jsx)(g.r.Col,{span:{base:12,sm:12,md:4,lg:4},children:(0,a.jsxs)(p.Z,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,children:[e$.length,"/20"]})}),(0,a.jsx)(g.r.Col,{span:{base:12,sm:12,md:4,lg:4},children:(0,a.jsxs)(p.Z,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,children:[ei("common:points"),": ",nr]})})]})]}),(0,a.jsx)(f.i,{my:"md"}),(0,a.jsxs)(o.Z,{align:"center",justify:"space-between",mb:"md",mt:"md",children:[(0,a.jsx)(_.N,{placeholder:ei("common:set"),data:e6,searchable:!0,clearable:!0,value:eS,onChange:eE,maxValues:3}),(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(j.A,{variant:"default",size:"lg",onClick:()=>{eR([]),eL([]),eH([]),eF([]),eI([]),eU([]),eu(""),eK([0,250]),eB([0,250])},children:(0,a.jsx)(D.Z,{})}),(0,a.jsx)(j.A,{variant:"default",size:"lg",onClick:()=>eT(!eZ),children:(0,a.jsx)(I.Z,{})}),(0,a.jsxs)("div",{className:$().root,dir:"ltr",ref:ef,children:[(0,a.jsx)(v.G,{target:e_[ew],parent:eb,className:$().indicator}),(0,a.jsxs)("div",{className:$().controlsGroup,children:[(0,a.jsx)(w.k,{variant:"default",size:"lg",className:$().control,"aria-label":"Category",onClick:()=>{ey("grid"),e2("grid")},ref:e5("grid"),mod:{active:"grid"===ew},children:(0,a.jsx)(M.Z,{})}),(0,a.jsx)(w.k,{variant:"default",size:"lg",className:$().control,"aria-label":"ListDetails",onClick:()=>{ey("list"),e2("list")},ref:e5("list"),mod:{active:"list"===ew},children:(0,a.jsx)(U.Z,{})})]})]})]})]}),(0,a.jsx)(y.V,{color:"blue",icon:nt,mt:"xl",children:(0,a.jsx)(r.Text,{children:ei("common:please_select_up_to_3_series")})}),(0,a.jsxs)(C.U,{in:eZ,children:[(0,a.jsx)(f.i,{my:"xs",label:ei("common:advancedFiltering"),labelPosition:"left"}),(0,a.jsx)(o.Z,{children:(0,a.jsx)(z.o,{placeholder:ei("common:search_card"),value:ex,onChange:e=>eu(e.target.value),leftSection:(0,a.jsx)(G.Z,{size:16}),radius:"md",size:"md",styles:{input:{width:300}}})}),(0,a.jsxs)(g.r,{mb:"md",children:[(0,a.jsx)(g.r.Col,{span:4,children:(0,a.jsx)(_.N,{label:ei("common:dex"),placeholder:ei("common:dex"),data:e7,searchable:!0,clearable:!0,value:eN,onChange:eR})}),(0,a.jsx)(g.r.Col,{span:4,children:(0,a.jsx)(_.N,{label:ei("common:aspects"),placeholder:ei("common:aspects"),data:e3,clearable:!0,renderOption:nn,value:eO,onChange:eL})}),(0,a.jsx)(g.r.Col,{span:4,children:(0,a.jsx)(_.N,{label:ei("common:rarity"),placeholder:ei("common:rarity"),data:e9,clearable:!0,renderOption:e=>{let{option:n}=e;return(0,a.jsxs)(o.Z,{gap:"sm",children:[(0,a.jsx)(i.E,{src:"/common/".concat(n.value,".webp"),alt:ei("common:".concat(n.value)),height:20,width:20}),(0,a.jsx)(r.Text,{size:"sm",children:ei("common:".concat(n.value))})]})},value:eA,onChange:eH})})]}),(0,a.jsxs)(g.r,{mb:"md",children:[(0,a.jsx)(g.r.Col,{span:4,children:(0,a.jsx)(_.N,{label:ei("common:type"),placeholder:ei("common:type"),data:e4,clearable:!0,value:eP,onChange:eF})}),(0,a.jsx)(g.r.Col,{span:4,children:(0,a.jsx)(_.N,{label:ei("common:weakness"),placeholder:ei("common:weakness"),data:e3,clearable:!0,renderOption:nn,value:eD,onChange:eI})}),(0,a.jsx)(g.r.Col,{span:4,children:(0,a.jsx)(_.N,{label:ei("common:retreat"),placeholder:ei("common:retreat"),data:e8,clearable:!0,value:eM,onChange:eU})})]}),(0,a.jsxs)(g.r,{mb:"md",gutter:"md",children:[(0,a.jsx)(g.r.Col,{span:{base:12,sm:6,md:6},mt:"sm",children:(0,a.jsx)(Z.K,{children:(0,a.jsx)(T.U,{min:0,max:250,value:eG,onChange:eK,marks:[{value:0,label:"0"},{value:50,label:"50"},{value:100,label:"100"},{value:150,label:"150"},{value:200,label:"200"},{value:250,label:"250"}],"aria-label":ei("common:hp_range"),thumbSize:26,thumbChildren:[(0,a.jsx)(K.Z,{size:"1rem",color:el},"1"),(0,a.jsx)(K.Z,{size:"1rem",color:el},"2")],color:"red"})})}),(0,a.jsx)(g.r.Col,{span:{base:12,sm:6,md:6},mt:"sm",children:(0,a.jsx)(Z.K,{children:(0,a.jsx)(T.U,{min:0,max:250,value:eW,onChange:eB,marks:[{value:0,label:"0"},{value:50,label:"50"},{value:100,label:"100"},{value:150,label:"150"},{value:200,label:"200"},{value:250,label:"250"}],"aria-label":ei("common:attack_range"),thumbSize:26,thumbChildren:[(0,a.jsx)(W.Z,{size:"1rem",color:Q},"3"),(0,a.jsx)(W.Z,{size:"1rem",color:Q},"4")]})})})]})]}),(0,a.jsx)(q.Z,{dataLength:e0,next:()=>{e1(e=>e+20)},hasMore:e0<ej.length,loader:(0,a.jsx)(m.M,{children:(0,a.jsx)(S.a,{size:"md",my:"md"})}),endMessage:(0,a.jsx)(a.Fragment,{}),style:{width:"100%",overflow:"hidden"},children:"grid"===eC?(0,a.jsx)(g.r,{mt:"md",columns:10,children:ej.slice(0,e0).map(e=>(0,a.jsx)(g.r.Col,{span:{base:5,sm:2,md:2,lg:2},children:(0,a.jsxs)(p.Z,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,onClick:()=>na(e),style:{cursor:"pointer"},children:[(0,a.jsx)(p.Z.Section,{children:(0,a.jsx)(i.E,{src:"/".concat(n,"/").concat(e.set,"/").concat(e.number,".webp"),alt:ei("pokemon:".concat(e.name)),loading:"lazy"})}),(0,a.jsxs)(Z.K,{mt:"md",align:"center",gap:"xs",children:[(0,a.jsx)(r.Text,{fw:700,size:"lg",children:ei("pokemon:".concat(e.name))}),(0,a.jsxs)(r.Text,{color:"dimmed",size:"sm",children:["#",e.number]})]})]})},e.id))}):(0,a.jsx)(o.Z,{mt:"md",children:(0,a.jsx)(p.Z,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,children:(0,a.jsx)(E.x,{children:(0,a.jsx)(N.x,{w:1060,children:(0,a.jsxs)(R.i,{striped:!0,verticalSpacing:"lg",children:[(0,a.jsx)(R.i.Thead,{children:(0,a.jsxs)(R.i.Tr,{children:[(0,a.jsx)(R.i.Th,{style:{textAlign:"center"},children:ei("common:name")}),(0,a.jsx)(R.i.Th,{children:ei("common:aspects")}),(0,a.jsx)(R.i.Th,{children:ei("common:hp")}),(0,a.jsx)(R.i.Th,{children:ei("common:stage")}),(0,a.jsx)(R.i.Th,{children:ei("common:rarity")}),(0,a.jsx)(R.i.Th,{children:ei("common:weakness")}),(0,a.jsx)(R.i.Th,{children:ei("common:retreat")}),(0,a.jsxs)(R.i.Th,{style:{width:300},children:[ei("common:attack")," & ",ei("common:ability")]})]})}),(0,a.jsx)(R.i.Tbody,{children:ej.slice(0,e0).map(e=>(0,a.jsxs)(R.i.Tr,{children:[(0,a.jsx)(R.i.Td,{children:(0,a.jsxs)(o.Z,{children:[" ",(0,a.jsx)(i.E,{src:"/".concat(n,"/").concat(e.set,"/").concat(e.number,".webp"),alt:ei("pokemon:".concat(e.name)),loading:"lazy",style:{width:100}}),(0,a.jsxs)(Z.K,{gap:"xs",align:"center",children:[(0,a.jsx)(r.Text,{mt:"xs",children:ei("pokemon:".concat(e.name))}),(0,a.jsxs)(r.Text,{c:"dimmed",size:"xs",mt:"xs",children:["#",e.number]})]})]})}),(0,a.jsx)(R.i.Td,{children:0===e.type?(0,a.jsx)(o.Z,{children:(0,a.jsx)(i.E,{src:ea.PZ[e.aspects],alt:"Element Aspect",height:20,width:20})}):null}),(0,a.jsx)(R.i.Td,{children:(0,a.jsx)(k.C,{size:"lg",circle:!0,variant:"gradient",gradient:{from:"red",to:"violet",deg:90},children:(0,a.jsx)(r.Text,{size:"xs",children:e.hp})})}),(0,a.jsx)(R.i.Td,{children:(0,a.jsx)(k.C,{color:"blue",children:ei("common:cardStage.".concat(e.stage))})}),(0,a.jsx)(R.i.Td,{children:0!==e.rarity&&(0,a.jsx)(o.Z,{children:(0,a.jsx)(i.E,{src:ea.JG[e.rarity],alt:"Rarity",height:20,width:20})})}),(0,a.jsx)(R.i.Td,{children:10!==e.weakness&&(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(i.E,{src:ea.PZ[e.weakness],alt:"Weakness",height:20,width:20}),(0,a.jsx)(k.C,{size:"lg",circle:!0,variant:"gradient",gradient:{from:"red",to:"violet",deg:90},children:(0,a.jsx)(r.Text,{size:"xs",children:e.weakness_value})})]})}),(0,a.jsx)(R.i.Td,{children:(0,a.jsx)(o.Z,{gap:"xs",children:e.retreat_aspects.filter(e=>99!==e).map((e,n)=>(0,a.jsx)(i.E,{src:ea.PZ[e],alt:"Aspect ".concat(e),height:20,width:20},n))})}),(0,a.jsx)(R.i.Td,{children:0===e.type?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(k.C,{children:ei("skill:".concat(e.attack_name_1,".name"))}),(0,a.jsxs)(o.Z,{gap:"xs",mt:"xs",children:[(0,a.jsx)(k.C,{size:"lg",circle:!0,variant:"gradient",gradient:{from:"red",to:"violet",deg:90},children:(0,a.jsx)(r.Text,{size:"xs",children:e.attack_1})}),e.attack_aspects_1.map((e,n)=>(0,a.jsx)(i.E,{src:ea.PZ[e],alt:"Aspect",height:20,width:20},n))]}),e.attack_skill_name_1&&e.attack_skill_name_1.length>0&&(0,a.jsx)(r.Text,{c:"dimmed",size:"xs",mt:"xs",children:ei("skill:".concat(e.attack_name_1,".description"))}),e.attack_aspects_2&&e.attack_aspects_2.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.i,{my:"md"}),(0,a.jsx)(k.C,{children:ei("skill:".concat(e.attack_name_2,".name"))}),(0,a.jsxs)(o.Z,{gap:"xs",mt:"xs",children:[(0,a.jsx)(k.C,{size:"lg",circle:!0,variant:"gradient",gradient:{from:"red",to:"violet",deg:90},children:(0,a.jsx)(r.Text,{size:"xs",children:e.attack_2})}),e.attack_aspects_2.map((e,n)=>(0,a.jsx)(i.E,{src:ea.PZ[e],alt:"Aspect",height:20,width:20},n))]})]}),e.attack_skill_name_2&&e.attack_skill_name_2.length>0&&(0,a.jsx)(r.Text,{c:"dimmed",size:"xs",mt:"xs",children:ei("skill:".concat(e.attack_name_2,".description"))}),e.ability_name&&e.ability_name.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.i,{my:"md"}),(0,a.jsx)(k.C,{color:"orange",children:(0,a.jsx)(r.Text,{size:"xs",children:ei("ability:".concat(e.ability_name,".name"))})}),(0,a.jsx)(r.Text,{c:"dimmed",size:"xs",mt:"xs",children:ei("ability:".concat(e.ability_name,".description"))})]})]}):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(r.Text,{c:"dimmed",children:ei("rule:".concat(e.attack_skill_name_1))})})})]},e.number))})]})})})})})})]}):(0,a.jsx)(m.M,{children:(0,a.jsxs)(r.Text,{children:[ei("common:errors.error_insufficient_permissions")," ",(0,a.jsx)(c.e,{component:B.default,href:"/login",size:"sm",children:ei("common:login.login")})]})})})}},47025:(e,n,t)=>{"use strict";t.d(n,{$:()=>d});var a=t(2265),s=t(46027),l=t(90089),o=t(8358),i=t(64312),r=t(34583),c=t(70201);function d(e,n,t){let[s,i]=(0,o.fP)([c.YN]),r=(0,l.$G)(n,t),{i18n:d}=r;{let[n,t]=(0,a.useState)(d.resolvedLanguage);(0,a.useEffect)(()=>{n!==d.resolvedLanguage&&t(d.resolvedLanguage)},[d.resolvedLanguage]),(0,a.useEffect)(()=>{e&&d.resolvedLanguage!==e&&d.changeLanguage(e).then(()=>{t(e),i(c.YN,e,{path:"/"})})},[e,d,i])}return r}s.ZP.use(l.Db).use(r.Z).use((0,i.Z)((e,n)=>t(95700)("./".concat(e,"/").concat(n,".json")))).init({...(0,c.FW)(),lng:void 0,detection:{order:["path","htmlTag","cookie","navigator"]},preload:[]})},70201:(e,n,t)=>{"use strict";t.d(n,{FW:()=>i,Mj:()=>s,YN:()=>l});let a="zh-Hant",s=[a,"zh-Hant","zh-Hans"],l="i18next",o="translation";function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return{supportedLngs:s,fallbackLng:a,lng:e,fallbackNS:o,defaultNS:o,ns:n}}},85393:(e,n,t)=>{"use strict";t.d(n,{default:()=>A});var a=t(57437),s=t(2265),l=t(56237),o=t(93059),i=t(86608),r=t(8244),c=t(20322),d=t(78178),m=t(7497),h=t(96293),x=t(34479),u=t(2638),j=t(84571),g=t(88477),p=t(98997),k=t(1597),b=t(91905),f=t(60399);function _(){let{colorScheme:e,toggleColorScheme:n}=(0,k.X)(),[t,l]=(0,s.useState)(()=>b.Z);return(0,s.useEffect)(()=>{l("dark"===e?f.Z:b.Z)},[e]),(0,a.jsx)(m.A,{variant:"default","aria-label":"Toggle theme",size:"lg",onClick:()=>n(),children:(0,a.jsx)(t,{style:{width:"80%",height:"80%"},stroke:1.5})})}var v=t(13866),w=t.n(v),y=t(16463),C=t(30998),z=t(70201),Z=t(47025);let T=e=>{let{opened:n,toggle:t,desktopOpened:s,toggleDesktop:l,lng:o}=e,k=(0,y.useRouter)(),b=(0,y.usePathname)(),{data:f,status:v}=(0,C.useSession)(),{t:T}=(0,Z.$)(o,["common"]),S=e=>{k.push(e)},E=async()=>{await (0,C.signOut)({callbackUrl:"/"})},N=e=>{if(e===o)return;let n=b.split("/");z.Mj.includes(n[1])?n[1]=e:n.splice(1,0,e);let t=n.join("/")||"/";k.push(t)};return(0,a.jsxs)("div",{className:w().inner,children:[(0,a.jsxs)(i.Z,{h:"100%",px:"md",children:[(0,a.jsx)(r.O,{opened:n,onClick:t,hiddenFrom:"sm",size:"sm"}),(0,a.jsx)(r.O,{opened:s,onClick:l,visibleFrom:"sm",size:"sm"}),(0,a.jsx)(u.Z,{style:{width:(0,c.h)(36),height:(0,c.h)(36)},stroke:1.5,color:"var(--mantine-color-red-filled)"}),(0,a.jsx)("div",{children:"Pokemon Nier"})]}),(0,a.jsx)("div",{className:w().actionIcon,children:(0,a.jsxs)(i.Z,{children:[(0,a.jsx)(_,{}),(0,a.jsxs)(d.v,{withArrow:!0,children:[(0,a.jsx)(d.v.Target,{children:(0,a.jsx)(m.A,{variant:"default",size:"lg","aria-label":"Language",children:(0,a.jsx)(j.Z,{})})}),(0,a.jsxs)(d.v.Dropdown,{children:[(0,a.jsx)(d.v.Label,{children:T("common:navigation.language_selection")}),(0,a.jsx)(d.v.Item,{onClick:()=>N("zh-Hans"),children:(0,a.jsx)(h.Text,{children:"简体中文"})}),(0,a.jsx)(d.v.Item,{onClick:()=>N("zh-Hant"),children:(0,a.jsx)(h.Text,{children:"繁體中文"})})]})]}),"loading"===v?(0,a.jsx)(m.A,{variant:"default",size:"lg","aria-label":"Loading",children:(0,a.jsx)(x.a,{color:"blue"})}):f?(0,a.jsx)(m.A,{variant:"default",size:"lg","aria-label":"Logout",onClick:E,children:(0,a.jsx)(g.Z,{})}):(0,a.jsx)(m.A,{variant:"default",size:"lg","aria-label":"Login",onClick:()=>S("/login"),children:(0,a.jsx)(p.Z,{})})]})})]})};var S=t(59223),E=t(70999),N=t(37341),R=t(55553),O=t(26804);let L=e=>{let{lng:n}=e,t=(0,y.useRouter)(),{data:s,status:l}=(0,C.useSession)(),{t:o}=(0,Z.$)(n,["common"]),i=e=>{t.push(e)};return(0,a.jsxs)("nav",{children:[(0,a.jsx)(S.O,{component:"button",label:o("common:navigation.home"),leftSection:(0,a.jsx)(E.Z,{size:"1rem",stroke:1.5}),onClick:()=>i("/")}),(0,a.jsx)(S.O,{component:"button",label:o("common:navigation.cards"),leftSection:(0,a.jsx)(N.Z,{size:"1rem",stroke:1.5}),onClick:()=>i("/cards")}),(0,a.jsxs)(S.O,{component:"button",label:o("common:navigation.deck"),leftSection:(0,a.jsx)(R.Z,{size:"1rem",stroke:1.5}),children:[(0,a.jsx)(S.O,{label:o("common:navigation.deck_list"),onClick:()=>i("/decks/list")}),(0,a.jsx)(S.O,{label:o("common:navigation.create_deck"),onClick:()=>i("/decks/build")}),s&&(0,a.jsx)(S.O,{label:o("common:navigation.my_decks"),onClick:()=>i("/decks/user")})]}),(0,a.jsx)(S.O,{component:"button",label:o("common:navigation.about"),leftSection:(0,a.jsx)(O.Z,{size:"1rem",stroke:1.5}),onClick:()=>i("/about")})]})};function A(e){let{children:n,lng:t}=e,[s,{toggle:i}]=(0,o.q)(),[r,{toggle:c}]=(0,o.q)(!0);return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(l.V,{header:{height:60},navbar:{width:300,breakpoint:"sm",collapsed:{mobile:!s,desktop:!r}},padding:"md",children:[(0,a.jsx)(l.V.Header,{children:(0,a.jsx)(T,{opened:s,toggle:i,desktopOpened:r,toggleDesktop:c,lng:t})}),(0,a.jsx)(l.V.Navbar,{p:"md",children:(0,a.jsx)(L,{lng:t})}),(0,a.jsx)(l.V.Main,{children:n})]})})}},81822:(e,n,t)=>{"use strict";t.d(n,{D:()=>i,JG:()=>r,KH:()=>l,PZ:()=>s,l6:()=>o,pt:()=>a});let a={0:0,1:35,2:70,3:150,4:500,5:400,6:1250,7:1500,8:2500},s={0:"/common/grass.webp",1:"/common/fire.webp",2:"/common/water.webp",3:"/common/lightning.webp",4:"/common/psychic.webp",5:"/common/fighting.webp",6:"/common/darkness.webp",7:"/common/metal.webp",8:"/common/dragon.webp",9:"/common/colorless.webp"},l={grass:0,fire:1,water:2,lightning:3,psychic:4,fighting:5,darkness:6,metal:7,dragon:8,colorless:9},o={Common:1,Uncommon:2,Rare:3,DoubleRare:4,ArtRare:5,SuperRare:6,ImmersiveRare:7,UltraRare:8},i={pokemon:0,item:1,supporter:2},r={0:"",1:"/common/Common.webp",2:"/common/Uncommon.webp",3:"/common/Rare.webp",4:"/common/DoubleRare.webp",5:"/common/ArtRare.webp",6:"/common/SuperRare.webp",7:"/common/ImmersiveRare.webp",8:"/common/UltraRare.webp"}},35106:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var a=t(2265);let s=function(e,n){let[t,s]=(0,a.useState)(n);return(0,a.useEffect)(()=>{try{let n=localStorage.getItem(e);n&&s(JSON.parse(n))}catch(n){console.error('Error reading localStorage key "'.concat(e,'":'),n)}},[e]),[t,n=>{try{s(n),localStorage.setItem(e,JSON.stringify(n))}catch(n){console.error('Error setting localStorage key "'.concat(e,'":'),n)}}]}},61067:e=>{e.exports={root:"EditDecksPageClient_root__27Uz6",indicator:"EditDecksPageClient_indicator__ECQ_N",controlsGroup:"EditDecksPageClient_controlsGroup__3_IXl",control:"EditDecksPageClient_control__jSev_"}},13866:e=>{e.exports={inner:"Header_inner__BWOOt",link:"Header_link___GWEF",actionIcon:"Header_actionIcon__d8zIz"}}},e=>{var n=n=>e(e.s=n);e.O(0,[2416,4977,5501,7337,8839,5588,5319,5948,2976,7235,5179,1736,5268,3529,2691,7130,6215,1744],()=>n(13290)),_N_E=e.O()}]);