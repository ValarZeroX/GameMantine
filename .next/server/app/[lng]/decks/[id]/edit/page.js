(()=>{var e={};e.id=7502,e.ids=[7502],e.modules={53681:(e,t,s)=>{var n={"./en/ability.json":[21695,1695],"./en/common.json":[7790,7790],"./en/pokemon.json":[52763,2763],"./en/rule.json":[19166,9166],"./en/skill.json":[68591,8591],"./zh-Hans/ability.json":[47321,7321],"./zh-Hans/common.json":[26476,6476],"./zh-Hans/pokemon.json":[73407,3407],"./zh-Hans/rule.json":[59620,9620],"./zh-Hans/skill.json":[61529,1529],"./zh-Hant/ability.json":[48380,8380],"./zh-Hant/common.json":[87097,7097],"./zh-Hant/pokemon.json":[88636,8636],"./zh-Hant/rule.json":[42877,2877],"./zh-Hant/skill.json":[88227,8227]};function r(e){if(!s.o(n,e))return Promise.resolve().then(()=>{var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=n[e],r=t[0];return s.e(t[1]).then(()=>s.t(r,19))}r.keys=()=>Object.keys(n),r.id=53681,e.exports=r},53524:e=>{"use strict";e.exports=require("@prisma/client")},67096:e=>{"use strict";e.exports=require("bcrypt")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},209:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},79348:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30412:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},55315:e=>{"use strict";e.exports=require("path")},86624:e=>{"use strict";e.exports=require("querystring")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},1550:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>a.a,__next_app__:()=>m,pages:()=>d,routeModule:()=>h,tree:()=>c});var n=s(3003),r=s(14293),i=s(66550),a=s.n(i),l=s(86979),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c=["",{children:["[lng]",{children:["decks",{children:["[id]",{children:["edit",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8370)),"D:\\MyCode\\GameMantine\\app\\[lng]\\decks\\[id]\\edit\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,51028)),"D:\\MyCode\\GameMantine\\app\\[lng]\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,20691)),"D:\\MyCode\\GameMantine\\app\\[lng]\\not-found.tsx"]}]},{"not-found":[()=>Promise.resolve().then(s.t.bind(s,52075,23)),"next/dist/client/components/not-found-error"]}],d=["D:\\MyCode\\GameMantine\\app\\[lng]\\decks\\[id]\\edit\\page.tsx"],m={require:s,loadChunk:()=>Promise.resolve()},h=new n.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/[lng]/decks/[id]/edit/page",pathname:"/[lng]/decks/[id]/edit",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},3302:(e,t,s)=>{Promise.resolve().then(s.bind(s,18827)),Promise.resolve().then(s.bind(s,65886))},18827:(e,t,s)=>{"use strict";s.d(t,{default:()=>en});var n=s(68819),r=s(17266),i=s(10128),a=s(22887),l=s(19040),o=s(11348),c=s(71260),d=s(67852),m=s(75923),h=s(46948),u=s(55987),x=s(25618),p=s(26622),j=s(64611),g=s(20020),k=s(47662),b=s(62088),f=s(56872),_=s(82631),v=s(50168),y=s(93610),w=s(58970),C=s(25257),Z=s(38750),z=s(52165),$=s(93422),T=s(61495),S=s(14420),E=s(48013),M=s(11439),P=s(99884),R=s(94118),A=s(60740),O=s(84428),D=s(88412),N=s(10926),F=s(69928),L=s(57909),q=s(53036),G=s(64885),H=s(40688),I=s(23603),U=s(86231),K=s(90434),B=s(24103),V=s(25215),W=s.n(V),J=s(35047),X=s(33118),Q=s(34462),Y=s(39642),ee=s(77109),et=s(9531),es=s(46260);let en=({lng:e})=>{let{data:t}=(0,ee.useSession)(),{colorScheme:s}=(0,i.X)(),[V,en]=(0,r.useState)("#228be6"),[er,ei]=(0,r.useState)("red");(0,r.useEffect)(()=>{"dark"===s?(en("white"),ei("white")):(en("#228be6"),ei("red"))},[s]),(0,J.useRouter)();let{t:ea}=(0,B.$)(e,["pokemon","common","skill","ability","rule"]),{id:el}=(0,J.useParams)(),[eo,ec]=(0,r.useState)(null),[ed,em]=(0,r.useState)(null),[eh,eu]=(0,X.Z)("searchTerm",""),[ex,ep]=(0,r.useState)([]),[ej,eg]=(0,r.useState)([]),[ek,eb]=(0,r.useState)(null),[ef,e_]=(0,r.useState)({}),[ev,ey]=(0,r.useState)("grid"),[ew,eC]=(0,r.useState)("grid"),[eZ,ez]=(0,X.Z)("isFilterOpen",!1),[e$,eT]=(0,X.Z)("selectedSets",[]),[eS,eE]=(0,X.Z)("selectedDexs",[]),[eM,eP]=(0,X.Z)("selectedAspects",[]),[eR,eA]=(0,X.Z)("selectedRarity",[]),[eO,eD]=(0,X.Z)("selectedType",[]),[eN,eF]=(0,X.Z)("selectedWeakness",[]),[eL,eq]=(0,X.Z)("selectedRetreat",[]),[eG,eH]=(0,X.Z)("hpRange",[0,250]),[eI,eU]=(0,X.Z)("attackRange",[0,250]),[eK,eB]=(0,r.useState)(""),[eV,eW]=(0,X.Z)("selectedDeckEdit",[]),[eJ,eX]=(0,r.useState)(!1),eQ=(0,r.useRef)(null),[eY,e0]=(0,r.useState)(20);(0,r.useEffect)(()=>{let e=localStorage.getItem("displayMode");("grid"===e||"list"===e)&&(eC(e),ey(e))},[]);let e1=e=>{eC(e),ey(e),localStorage.setItem("displayMode",e)},e2=e=>t=>{ef[e]=t,e_(ef)},e6=["A1","PROMO-A"].map(e=>({value:e,label:`(${e})${ea(`common:cardSet.${e}`)}`})),e5=["A1C","A1M","A1P"].map(e=>({value:e,label:`(${e})${ea(`common:cardDex.${e}`)}`})),e4=["grass","fire","water","lightning","psychic","fighting","darkness","metal","dragon","colorless"].map(e=>({value:e,label:`${ea(`common:${e}`)}`})),e8=["Common","Uncommon","Rare","DoubleRare","ArtRare","SuperRare","ImmersiveRare","UltraRare"].map(e=>({value:e,label:`${ea(`common:${e}`)}`})),e3=["pokemon","item","supporter"].map(e=>({value:e,label:`${ea(`common:${e}`)}`})),e7=["1","2","3","4","5"].map(e=>({value:e,label:e})),e9=async e=>{try{let t=e.length>0?`?sets=${e.join(",")}`:"",s=await fetch(`/api/card${t}`);if(!s.ok)throw Error(ea("common:notification.error_fetch_card_data"));let n=await s.json();eg(n)}catch(e){eg([])}};(0,r.useEffect)(()=>{0===e$.length?(eg([]),ep([])):e9(e$)},[e$]),(0,r.useEffect)(()=>{let e=ej;if(eh){let t=eh.toLowerCase();e=e.filter(e=>ea(`pokemon:${e.name}`).toLowerCase().includes(t)||ea(`skill:${e.attack_name_1}.name`).toLowerCase().includes(t)||ea(`skill:${e.attack_name_1}.description`).toLowerCase().includes(t)||ea(`skill:${e.attack_name_2}.name`).toLowerCase().includes(t)||ea(`skill:${e.attack_name_2}.description`).toLowerCase().includes(t)||ea(`ability:${e.ability_name}.name`).toLowerCase().includes(t)||ea(`ability:${e.ability_name}.description`).toLowerCase().includes(t))}if(e$.length>0&&(e=e.filter(e=>e$.includes(e.set))),eS.length>0&&(e=e.filter(e=>e.dex.some(e=>eS.includes(e)))),eM.length>0){let t=eM.map(e=>es.KH[e]).filter(e=>"number"==typeof e);e=e.filter(e=>t.includes(e.aspects))}if(eR.length>0){let t=eR.map(e=>es.l6[e]).filter(e=>"number"==typeof e);e=e.filter(e=>t.includes(e.rarity))}if(eO.length>0){let t=eO.map(e=>es.D[e]).filter(e=>"number"==typeof e);e=e.filter(e=>t.includes(e.type))}if(eN.length>0){let t=eN.map(e=>es.KH[e]).filter(e=>"number"==typeof e);e=e.filter(e=>t.includes(e.weakness))}if(eL.length>0){let t=eL.map(e=>Number(e)).filter(e=>!isNaN(e));e=e.filter(e=>t.includes(e.retreat))}ep(e=(e=e.filter(e=>e.hp>=eG[0]&&e.hp<=eG[1])).filter(e=>e.attack_1>=eI[0]&&e.attack_1<=eI[1]||null!=e.attack_2&&e.attack_2>=eI[0]&&e.attack_2<=eI[1])),e0(20)},[ej,eh,e$,eS,eM,eR,eO,eN,eL,eG,eI]);let te=({option:e})=>(0,n.jsxs)(a.Z,{gap:"sm",children:[(0,n.jsx)(l.E,{src:`/common/${e.value}.webp`,alt:ea(`common:${e.value}`),height:20,width:20}),(0,n.jsx)(o.Text,{size:"sm",children:ea(`common:${e.value}`)})]}),tt=(0,n.jsx)(P.Z,{}),ts=e=>{eV.filter(t=>t.id===e.id).length>=2||eV.length>=20||eW([...eV,e])},tn=(0,r.useMemo)(()=>[...eV].sort((e,t)=>{let s=e.number.split("-"),n=t.number.split("-"),r=s.slice(0,-1).join("-").toUpperCase(),i=n.slice(0,-1).join("-").toUpperCase();return r<i?-1:r>i?1:parseInt(s[s.length-1],10)-parseInt(n[n.length-1],10)}),[eV]),tr=e=>{let t=eV.findIndex(t=>t.id===e.id&&t.number===e.number&&t.set===e.set);if(-1!==t){let e=[...eV];e.splice(t,1),eW(e)}},ti=(0,r.useMemo)(()=>{let e={pokemon:0,item:0,supporter:0};return eV.forEach(t=>{0===t.type?e.pokemon+=1:1===t.type?e.item+=1:2===t.type&&(e.supporter+=1)}),e},[eV]),ta=(0,r.useMemo)(()=>({pokemon:5*ti.pokemon,item:5*ti.item,supporter:5*ti.supporter}),[ti]),tl=(0,r.useMemo)(()=>eV.reduce((e,t)=>e+es.pt[t.rarity],0),[eV,es.pt]),to=async()=>{if(eQ.current){let e=eQ.current.cloneNode(!0);e.style.backgroundColor="dark"===s?"#242424":"#FFFFFF",document.body.appendChild(e);let t=await (0,Y.Z)(e,{backgroundColor:null,useCORS:!0});document.body.removeChild(e);let n=t.toDataURL("image/png"),r=document.createElement("a");r.href=n,r.download="pokemonnier.png",r.click()}},tc=async()=>{if(!t?.user){(0,et.c0)({title:ea("common:notification.error_not_logged_in"),message:ea("common:notification.error_please_login"),color:"red",icon:(0,n.jsx)(R.Z,{size:16})});return}let e=eK.trim();if(e.length>50){(0,et.c0)({title:ea("common:notification.error_name_too_long"),message:ea("common:notification.error_deck_name_length"),color:"red",icon:(0,n.jsx)(R.Z,{size:16})});return}let s=eV.map(e=>e.number).sort().join(",");if(20!==eV.length){(0,et.c0)({title:ea("common:notification.error_title"),message:ea("common:notification.error_deck_size"),color:"red",icon:(0,n.jsx)(R.Z,{size:16})});return}eX(!0);try{let t=await fetch(`/api/decks/user/${el}/edit`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({deckCards:s,deckName:e||ea("common:notification.notification_unnamed")})}),r=await t.json();t.ok?(0,et.c0)({title:ea("common:notification.success"),message:ea("common:notification.success_deck_saved"),color:"green",icon:(0,n.jsx)(A.Z,{size:16})}):(0,et.c0)({title:ea("common:notification.error"),message:r.message||ea("common:notification.error_save_deck_failed"),color:"red",icon:(0,n.jsx)(R.Z,{size:16})})}catch(e){(0,et.c0)({title:ea("common:notification.error"),message:ea("common:notification.error_save_deck"),color:"red",icon:(0,n.jsx)(R.Z,{size:16})})}finally{eX(!1)}},td=(0,r.useMemo)(()=>{let e=new Map;return ej.forEach(t=>{e.set(t.number,t)}),e},[ej]);(0,r.useEffect)(()=>{if(!t){em(ea("common:notification.error_unauthorized"));return}if(!(!el||Array.isArray(el))){if(0===ej.length){em(ea("common:notification.error_card_data_not_loaded"));return}(async()=>{try{let e=await fetch(`/api/decks/user/${el}/edit`,{method:"GET",credentials:"include"});if(!e.ok){let t=await e.json();em(t.message||ea("common:notification.error_fetch_deck"));return}let t=await e.json();ec(t);let s=t.deck.deckCards.split(",").map(e=>e.trim()).map(e=>{let t=td.get(e);return t?{...t}:null}).filter(e=>null!==e);eB(t.deckName),eW(s)}catch(e){em(ea("common:notification.error_fetch_deck"))}})()}},[t,el,ej,td]);let tm=[{title:ea("common:navigation.home"),href:"/"},{title:ea("common:navigation.my_decks"),href:"/decks/user"},{title:ea("common:title.decks_user_edit_title"),href:"#"}].map((e,t)=>(0,n.jsx)(c.e,{href:e.href,children:e.title},t));return(0,n.jsx)(d.W,{size:"lg",children:t?.user?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(h.O,{children:tm}),(0,n.jsx)(u.Title,{order:1,mt:"sm",children:ea("common:title.decks_user_edit_title")}),(0,n.jsxs)(a.Z,{mt:"md",justify:"flex-end",align:"center",children:[(0,n.jsx)(x.I,{placeholder:ea("common:deck_name"),value:eK,onChange:e=>{let t=e.currentTarget.value;t.length<=30&&eB(t)},maxLength:30,style:{flexGrow:1}}),(0,n.jsx)(p.A,{variant:"default",size:"lg",onClick:()=>{eW([])},children:(0,n.jsx)(O.Z,{})}),(0,n.jsx)(p.A,{variant:"default",size:"lg",onClick:to,children:(0,n.jsx)(D.Z,{})}),(0,n.jsx)(p.A,{variant:"default",size:"lg",onClick:tc,loading:eJ,children:(0,n.jsx)(N.Z,{})})]}),(0,n.jsxs)("div",{ref:eQ,children:[(0,n.jsx)(j.r,{mt:"md",columns:10,children:tn.map((t,s)=>(0,n.jsxs)(j.r.Col,{span:{base:2,sm:2,md:1,lg:1},children:[(0,n.jsx)(l.E,{radius:"md",src:`/${e}/${t.set}/${t.number}.webp`,alt:ea(`pokemon:${t.name}`),onClick:()=>tr(t)}),(0,n.jsx)(o.Text,{size:"xs",mt:"xs",children:ea(`pokemon:${t.name}`)}),(0,n.jsxs)(o.Text,{size:"xs",children:["#",t.number]})]},`${t.id}-${s}`))}),(0,n.jsx)(j.r,{children:(0,n.jsx)(j.r.Col,{span:12,children:(0,n.jsxs)(g.Z,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,children:[(0,n.jsxs)(a.Z,{mb:"md",children:[(0,n.jsx)(k.C,{color:"cyan",variant:"filled",children:ea("common:pokemon")}),(0,n.jsx)(k.C,{color:"pink",variant:"filled",children:ea("common:item")}),(0,n.jsx)(k.C,{color:"orange",variant:"filled",children:ea("common:supporter")})]}),(0,n.jsxs)(b.E.Root,{size:"20",children:[(0,n.jsx)(b.E.Section,{value:ta.pokemon,color:"cyan",children:(0,n.jsx)(b.E.Label,{children:ti.pokemon})}),(0,n.jsx)(b.E.Section,{value:ta.item,color:"pink",children:(0,n.jsx)(b.E.Label,{children:ti.item})}),(0,n.jsx)(b.E.Section,{value:ta.supporter,color:"orange",children:(0,n.jsx)(b.E.Label,{children:ti.supporter})})]})]})})}),(0,n.jsxs)(j.r,{children:[(0,n.jsx)(j.r.Col,{span:{base:12,sm:12,md:4,lg:4},children:(0,n.jsxs)(g.Z,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,children:[eV.length,"/20"]})}),(0,n.jsx)(j.r.Col,{span:{base:12,sm:12,md:4,lg:4},children:(0,n.jsxs)(g.Z,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,children:[ea("common:points"),": ",tl]})})]})]}),(0,n.jsx)(f.i,{my:"md"}),(0,n.jsxs)(a.Z,{align:"center",justify:"space-between",mb:"md",mt:"md",children:[(0,n.jsx)(_.N,{placeholder:ea("common:set"),data:e6,searchable:!0,clearable:!0,value:e$,onChange:eT,maxValues:3}),(0,n.jsxs)(a.Z,{children:[(0,n.jsx)(p.A,{variant:"default",size:"lg",onClick:()=>{eE([]),eP([]),eA([]),eD([]),eF([]),eq([]),eu(""),eH([0,250]),eU([0,250])},children:(0,n.jsx)(F.Z,{})}),(0,n.jsx)(p.A,{variant:"default",size:"lg",onClick:()=>ez(!eZ),children:(0,n.jsx)(L.Z,{})}),(0,n.jsxs)("div",{className:W().root,dir:"ltr",ref:eb,children:[(0,n.jsx)(v.G,{target:ef[ev],parent:ek,className:W().indicator}),(0,n.jsxs)("div",{className:W().controlsGroup,children:[(0,n.jsx)(y.k,{variant:"default",size:"lg",className:W().control,"aria-label":"Category",onClick:()=>{ey("grid"),e1("grid")},ref:e2("grid"),mod:{active:"grid"===ev},children:(0,n.jsx)(q.Z,{})}),(0,n.jsx)(y.k,{variant:"default",size:"lg",className:W().control,"aria-label":"ListDetails",onClick:()=>{ey("list"),e1("list")},ref:e2("list"),mod:{active:"list"===ev},children:(0,n.jsx)(G.Z,{})})]})]})]})]}),(0,n.jsx)(w.V,{color:"blue",icon:tt,mt:"xl",children:(0,n.jsx)(o.Text,{children:ea("common:please_select_up_to_3_series")})}),(0,n.jsxs)(C.U,{in:eZ,children:[(0,n.jsx)(f.i,{my:"xs",label:ea("common:advancedFiltering"),labelPosition:"left"}),(0,n.jsx)(a.Z,{children:(0,n.jsx)(Z.o,{placeholder:ea("common:search_card"),value:eh,onChange:e=>eu(e.target.value),leftSection:(0,n.jsx)(H.Z,{size:16}),radius:"md",size:"md",styles:{input:{width:300}}})}),(0,n.jsxs)(j.r,{mb:"md",children:[(0,n.jsx)(j.r.Col,{span:4,children:(0,n.jsx)(_.N,{label:ea("common:dex"),placeholder:ea("common:dex"),data:e5,searchable:!0,clearable:!0,value:eS,onChange:eE})}),(0,n.jsx)(j.r.Col,{span:4,children:(0,n.jsx)(_.N,{label:ea("common:aspects"),placeholder:ea("common:aspects"),data:e4,clearable:!0,renderOption:te,value:eM,onChange:eP})}),(0,n.jsx)(j.r.Col,{span:4,children:(0,n.jsx)(_.N,{label:ea("common:rarity"),placeholder:ea("common:rarity"),data:e8,clearable:!0,renderOption:({option:e})=>(0,n.jsxs)(a.Z,{gap:"sm",children:[(0,n.jsx)(l.E,{src:`/common/${e.value}.webp`,alt:ea(`common:${e.value}`),height:20,width:20}),(0,n.jsx)(o.Text,{size:"sm",children:ea(`common:${e.value}`)})]}),value:eR,onChange:eA})})]}),(0,n.jsxs)(j.r,{mb:"md",children:[(0,n.jsx)(j.r.Col,{span:4,children:(0,n.jsx)(_.N,{label:ea("common:type"),placeholder:ea("common:type"),data:e3,clearable:!0,value:eO,onChange:eD})}),(0,n.jsx)(j.r.Col,{span:4,children:(0,n.jsx)(_.N,{label:ea("common:weakness"),placeholder:ea("common:weakness"),data:e4,clearable:!0,renderOption:te,value:eN,onChange:eF})}),(0,n.jsx)(j.r.Col,{span:4,children:(0,n.jsx)(_.N,{label:ea("common:retreat"),placeholder:ea("common:retreat"),data:e7,clearable:!0,value:eL,onChange:eq})})]}),(0,n.jsxs)(j.r,{mb:"md",gutter:"md",children:[(0,n.jsx)(j.r.Col,{span:{base:12,sm:6,md:6},mt:"sm",children:(0,n.jsx)(z.K,{children:(0,n.jsx)($.U,{min:0,max:250,value:eG,onChange:eH,marks:[{value:0,label:"0"},{value:50,label:"50"},{value:100,label:"100"},{value:150,label:"150"},{value:200,label:"200"},{value:250,label:"250"}],"aria-label":ea("common:hp_range"),thumbSize:26,thumbChildren:[(0,n.jsx)(I.Z,{size:"1rem",color:er},"1"),(0,n.jsx)(I.Z,{size:"1rem",color:er},"2")],color:"red"})})}),(0,n.jsx)(j.r.Col,{span:{base:12,sm:6,md:6},mt:"sm",children:(0,n.jsx)(z.K,{children:(0,n.jsx)($.U,{min:0,max:250,value:eI,onChange:eU,marks:[{value:0,label:"0"},{value:50,label:"50"},{value:100,label:"100"},{value:150,label:"150"},{value:200,label:"200"},{value:250,label:"250"}],"aria-label":ea("common:attack_range"),thumbSize:26,thumbChildren:[(0,n.jsx)(U.Z,{size:"1rem",color:V},"3"),(0,n.jsx)(U.Z,{size:"1rem",color:V},"4")]})})})]})]}),(0,n.jsx)(Q.Z,{dataLength:eY,next:()=>{e0(e=>e+20)},hasMore:eY<ex.length,loader:(0,n.jsx)(m.M,{children:(0,n.jsx)(T.a,{size:"md",my:"md"})}),endMessage:(0,n.jsx)(n.Fragment,{}),style:{width:"100%",overflow:"hidden"},children:"grid"===ew?(0,n.jsx)(j.r,{mt:"md",columns:10,children:ex.slice(0,eY).map(t=>(0,n.jsx)(j.r.Col,{span:{base:5,sm:2,md:2,lg:2},children:(0,n.jsxs)(g.Z,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,onClick:()=>ts(t),style:{cursor:"pointer"},children:[(0,n.jsx)(g.Z.Section,{children:(0,n.jsx)(l.E,{src:`/${e}/${t.set}/${t.number}.webp`,alt:ea(`pokemon:${t.name}`),loading:"lazy"})}),(0,n.jsxs)(z.K,{mt:"md",align:"center",gap:"xs",children:[(0,n.jsx)(o.Text,{fw:700,size:"lg",children:ea(`pokemon:${t.name}`)}),(0,n.jsxs)(o.Text,{color:"dimmed",size:"sm",children:["#",t.number]})]})]})},t.id))}):(0,n.jsx)(a.Z,{mt:"md",children:(0,n.jsx)(g.Z,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,children:(0,n.jsx)(S.x,{children:(0,n.jsx)(E.x,{w:1060,children:(0,n.jsxs)(M.i,{striped:!0,verticalSpacing:"lg",children:[(0,n.jsx)(M.i.Thead,{children:(0,n.jsxs)(M.i.Tr,{children:[(0,n.jsx)(M.i.Th,{style:{textAlign:"center"},children:ea("common:name")}),(0,n.jsx)(M.i.Th,{children:ea("common:aspects")}),(0,n.jsx)(M.i.Th,{children:ea("common:hp")}),(0,n.jsx)(M.i.Th,{children:ea("common:stage")}),(0,n.jsx)(M.i.Th,{children:ea("common:rarity")}),(0,n.jsx)(M.i.Th,{children:ea("common:weakness")}),(0,n.jsx)(M.i.Th,{children:ea("common:retreat")}),(0,n.jsxs)(M.i.Th,{style:{width:300},children:[ea("common:attack")," & ",ea("common:ability")]})]})}),(0,n.jsx)(M.i.Tbody,{children:ex.slice(0,eY).map(t=>(0,n.jsxs)(M.i.Tr,{children:[(0,n.jsx)(M.i.Td,{children:(0,n.jsxs)(a.Z,{children:[" ",(0,n.jsx)(l.E,{src:`/${e}/${t.set}/${t.number}.webp`,alt:ea(`pokemon:${t.name}`),loading:"lazy",style:{width:100}}),(0,n.jsxs)(z.K,{gap:"xs",align:"center",children:[(0,n.jsx)(o.Text,{mt:"xs",children:ea(`pokemon:${t.name}`)}),(0,n.jsxs)(o.Text,{c:"dimmed",size:"xs",mt:"xs",children:["#",t.number]})]})]})}),(0,n.jsx)(M.i.Td,{children:0===t.type?(0,n.jsx)(a.Z,{children:(0,n.jsx)(l.E,{src:es.PZ[t.aspects],alt:"Element Aspect",height:20,width:20})}):null}),(0,n.jsx)(M.i.Td,{children:(0,n.jsx)(k.C,{size:"lg",circle:!0,variant:"gradient",gradient:{from:"red",to:"violet",deg:90},children:(0,n.jsx)(o.Text,{size:"xs",children:t.hp})})}),(0,n.jsx)(M.i.Td,{children:(0,n.jsx)(k.C,{color:"blue",children:ea(`common:cardStage.${t.stage}`)})}),(0,n.jsx)(M.i.Td,{children:0!==t.rarity&&(0,n.jsx)(a.Z,{children:(0,n.jsx)(l.E,{src:es.JG[t.rarity],alt:"Rarity",height:20,width:20})})}),(0,n.jsx)(M.i.Td,{children:10!==t.weakness&&(0,n.jsxs)(a.Z,{children:[(0,n.jsx)(l.E,{src:es.PZ[t.weakness],alt:"Weakness",height:20,width:20}),(0,n.jsx)(k.C,{size:"lg",circle:!0,variant:"gradient",gradient:{from:"red",to:"violet",deg:90},children:(0,n.jsx)(o.Text,{size:"xs",children:t.weakness_value})})]})}),(0,n.jsx)(M.i.Td,{children:(0,n.jsx)(a.Z,{gap:"xs",children:t.retreat_aspects.filter(e=>99!==e).map((e,t)=>(0,n.jsx)(l.E,{src:es.PZ[e],alt:`Aspect ${e}`,height:20,width:20},t))})}),(0,n.jsx)(M.i.Td,{children:0===t.type?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(k.C,{children:ea(`skill:${t.attack_name_1}.name`)}),(0,n.jsxs)(a.Z,{gap:"xs",mt:"xs",children:[(0,n.jsx)(k.C,{size:"lg",circle:!0,variant:"gradient",gradient:{from:"red",to:"violet",deg:90},children:(0,n.jsx)(o.Text,{size:"xs",children:t.attack_1})}),t.attack_aspects_1.map((e,t)=>(0,n.jsx)(l.E,{src:es.PZ[e],alt:"Aspect",height:20,width:20},t))]}),t.attack_skill_name_1&&t.attack_skill_name_1.length>0&&(0,n.jsx)(o.Text,{c:"dimmed",size:"xs",mt:"xs",children:ea(`skill:${t.attack_name_1}.description`)}),t.attack_aspects_2&&t.attack_aspects_2.length>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(f.i,{my:"md"}),(0,n.jsx)(k.C,{children:ea(`skill:${t.attack_name_2}.name`)}),(0,n.jsxs)(a.Z,{gap:"xs",mt:"xs",children:[(0,n.jsx)(k.C,{size:"lg",circle:!0,variant:"gradient",gradient:{from:"red",to:"violet",deg:90},children:(0,n.jsx)(o.Text,{size:"xs",children:t.attack_2})}),t.attack_aspects_2.map((e,t)=>(0,n.jsx)(l.E,{src:es.PZ[e],alt:"Aspect",height:20,width:20},t))]})]}),t.attack_skill_name_2&&t.attack_skill_name_2.length>0&&(0,n.jsx)(o.Text,{c:"dimmed",size:"xs",mt:"xs",children:ea(`skill:${t.attack_name_2}.description`)}),t.ability_name&&t.ability_name.length>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(f.i,{my:"md"}),(0,n.jsx)(k.C,{color:"orange",children:(0,n.jsx)(o.Text,{size:"xs",children:ea(`ability:${t.ability_name}.name`)})}),(0,n.jsx)(o.Text,{c:"dimmed",size:"xs",mt:"xs",children:ea(`ability:${t.ability_name}.description`)})]})]}):(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(o.Text,{c:"dimmed",children:ea(`rule:${t.attack_skill_name_1}`)})})})]},t.number))})]})})})})})})]}):(0,n.jsx)(m.M,{children:(0,n.jsxs)(o.Text,{children:[ea("common:errors.error_insufficient_permissions")," ",(0,n.jsx)(c.e,{component:K.default,href:"/login",size:"sm",children:ea("common:login.login")})]})})})}},65886:(e,t,s)=>{"use strict";s.d(t,{default:()=>R});var n=s(68819),r=s(17266),i=s(28964),a=s(64058),l=s(22887),o=s(65582),c=s(91603),d=s(15700),m=s(26622),h=s(11348),u=s(61495),x=s(10773),p=s(80104),j=s(7380),g=s(41295),k=s(10128),b=s(64443);function f(){let{colorScheme:e,toggleColorScheme:t}=(0,k.X)(),[s,i]=(0,r.useState)(()=>b.Z);return(0,n.jsx)(m.A,{variant:"default","aria-label":"Toggle theme",size:"lg",onClick:()=>t(),children:(0,n.jsx)(s,{style:{width:"80%",height:"80%"},stroke:1.5})})}s(75382);var _=s(26699),v=s.n(_),y=s(35047),w=s(77109),C=s(17561),Z=s(24103);let z=({opened:e,toggle:t,desktopOpened:s,toggleDesktop:r,lng:i})=>{let a=(0,y.useRouter)(),k=(0,y.usePathname)(),{data:b,status:_}=(0,w.useSession)(),{t:z}=(0,Z.$)(i,["common"]),$=e=>{a.push(e)},T=async()=>{await (0,w.signOut)({callbackUrl:"/"})},S=e=>{if(e===i)return;let t=k.split("/");C.Mj.includes(t[1])?t[1]=e:t.splice(1,0,e);let s=t.join("/")||"/";a.push(s)};return(0,n.jsxs)("div",{className:v().inner,children:[(0,n.jsxs)(l.Z,{h:"100%",px:"md",children:[(0,n.jsx)(o.O,{opened:e,onClick:t,hiddenFrom:"sm",size:"sm"}),(0,n.jsx)(o.O,{opened:s,onClick:r,visibleFrom:"sm",size:"sm"}),(0,n.jsx)(x.Z,{style:{width:(0,c.h)(36),height:(0,c.h)(36)},stroke:1.5,color:"var(--mantine-color-red-filled)"}),(0,n.jsx)("div",{children:"Pokemon Nier"})]}),(0,n.jsx)("div",{className:v().actionIcon,children:(0,n.jsxs)(l.Z,{children:[(0,n.jsx)(f,{}),(0,n.jsxs)(d.v,{withArrow:!0,children:[(0,n.jsx)(d.v.Target,{children:(0,n.jsx)(m.A,{variant:"default",size:"lg","aria-label":"Language",children:(0,n.jsx)(p.Z,{})})}),(0,n.jsxs)(d.v.Dropdown,{children:[(0,n.jsx)(d.v.Label,{children:z("common:navigation.language_selection")}),(0,n.jsx)(d.v.Item,{onClick:()=>S("zh-Hans"),children:(0,n.jsx)(h.Text,{children:"简体中文"})}),(0,n.jsx)(d.v.Item,{onClick:()=>S("zh-Hant"),children:(0,n.jsx)(h.Text,{children:"繁體中文"})})]})]}),"loading"===_?(0,n.jsx)(m.A,{variant:"default",size:"lg","aria-label":"Loading",children:(0,n.jsx)(u.a,{color:"blue"})}):b?(0,n.jsx)(m.A,{variant:"default",size:"lg","aria-label":"Logout",onClick:T,children:(0,n.jsx)(j.Z,{})}):(0,n.jsx)(m.A,{variant:"default",size:"lg","aria-label":"Login",onClick:()=>$("/login"),children:(0,n.jsx)(g.Z,{})})]})})]})};var $=s(3484),T=s(43684),S=s(39299),E=s(73366),M=s(24089);let P=({lng:e})=>{let t=(0,y.useRouter)(),{data:s,status:r}=(0,w.useSession)(),{t:i}=(0,Z.$)(e,["common"]),a=e=>{t.push(e)};return(0,n.jsxs)("nav",{children:[(0,n.jsx)($.O,{component:"button",label:i("common:navigation.home"),leftSection:(0,n.jsx)(T.Z,{size:"1rem",stroke:1.5}),onClick:()=>a("/")}),(0,n.jsx)($.O,{component:"button",label:i("common:navigation.cards"),leftSection:(0,n.jsx)(S.Z,{size:"1rem",stroke:1.5}),onClick:()=>a("/cards")}),(0,n.jsxs)($.O,{component:"button",label:i("common:navigation.deck"),leftSection:(0,n.jsx)(E.Z,{size:"1rem",stroke:1.5}),children:[(0,n.jsx)($.O,{label:i("common:navigation.deck_list"),onClick:()=>a("/decks/list")}),(0,n.jsx)($.O,{label:i("common:navigation.create_deck"),onClick:()=>a("/decks/build")}),s&&(0,n.jsx)($.O,{label:i("common:navigation.my_decks"),onClick:()=>a("/decks/user")})]}),(0,n.jsx)($.O,{component:"button",label:i("common:navigation.about"),leftSection:(0,n.jsx)(M.Z,{size:"1rem",stroke:1.5}),onClick:()=>a("/about")})]})};function R({children:e,lng:t}){let[s,{toggle:r}]=(0,a.q)(),[l,{toggle:o}]=(0,a.q)(!0);return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(i.V,{header:{height:60},navbar:{width:300,breakpoint:"sm",collapsed:{mobile:!s,desktop:!l}},padding:"md",children:[(0,n.jsx)(i.V.Header,{children:(0,n.jsx)(z,{opened:s,toggle:r,desktopOpened:l,toggleDesktop:o,lng:t})}),(0,n.jsx)(i.V.Navbar,{p:"md",children:(0,n.jsx)(P,{lng:t})}),(0,n.jsx)(i.V.Main,{children:e})]})})}},46260:(e,t,s)=>{"use strict";s.d(t,{D:()=>l,JG:()=>o,KH:()=>i,PZ:()=>r,l6:()=>a,pt:()=>n});let n={0:0,1:35,2:70,3:150,4:500,5:400,6:1250,7:1500,8:2500},r={0:"/common/grass.webp",1:"/common/fire.webp",2:"/common/water.webp",3:"/common/lightning.webp",4:"/common/psychic.webp",5:"/common/fighting.webp",6:"/common/darkness.webp",7:"/common/metal.webp",8:"/common/dragon.webp",9:"/common/colorless.webp"},i={grass:0,fire:1,water:2,lightning:3,psychic:4,fighting:5,darkness:6,metal:7,dragon:8,colorless:9},a={Common:1,Uncommon:2,Rare:3,DoubleRare:4,ArtRare:5,SuperRare:6,ImmersiveRare:7,UltraRare:8},l={pokemon:0,item:1,supporter:2},o={0:"",1:"/common/Common.webp",2:"/common/Uncommon.webp",3:"/common/Rare.webp",4:"/common/DoubleRare.webp",5:"/common/ArtRare.webp",6:"/common/SuperRare.webp",7:"/common/ImmersiveRare.webp",8:"/common/UltraRare.webp"}},33118:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var n=s(17266);let r=function(e,t){let[s,r]=(0,n.useState)(t);return[s,t=>{try{r(t),localStorage.setItem(e,JSON.stringify(t))}catch(t){console.error(`Error setting localStorage key "${e}":`,t)}}]}},25215:e=>{e.exports={root:"EditDecksPageClient_root__27Uz6",indicator:"EditDecksPageClient_indicator__ECQ_N",controlsGroup:"EditDecksPageClient_controlsGroup__3_IXl",control:"EditDecksPageClient_control__jSev_"}},26699:e=>{e.exports={inner:"Header_inner__BWOOt",link:"Header_link___GWEF",actionIcon:"Header_actionIcon__d8zIz"}},41120:(e,t,s)=>{"use strict";s.a(e,async(e,n)=>{try{s.d(t,{Z:()=>e});var r=s(71851);let e=(await (0,r.createProxy)(String.raw`D:\MyCode\GameMantine\app\[lng]\decks\[id]\edit\EditDecksPageClient.tsx`)).default;n()}catch(e){n(e)}},1)},8370:(e,t,s)=>{"use strict";s.a(e,async(e,n)=>{try{s.r(t),s.d(t,{default:()=>d,generateMetadata:()=>c});var r=s(89351);s(22052);var i=s(38859),a=s(46061),l=s(41120),o=e([i,l]);async function c({params:e}){let{lng:t}=await e,{t:s}=await (0,a.$)(t,"common");return{title:s("metadata.decks_edit_title"),description:s("metadata.decks_edit_description"),keywords:s("metadata.decks_edit_keywords")}}[i,l]=o.then?(await o)():o;let d=async({params:e})=>{let{lng:t,id:s}=await e;return(0,r.jsx)(i.Z,{lng:t,children:(0,r.jsx)(l.Z,{lng:t})})};n()}catch(e){n(e)}})},46061:(e,t,s)=>{"use strict";s.d(t,{$:()=>o});var n=s(95131),r=s(25369),i=s(7372),a=s(24546);let l=async(e,t)=>{let l=(0,n.Fs)();return await l.use(i.D).use((0,r.Z)((e,t)=>s(53681)(`./${e}/${t}.json`))).init({...(0,a.FW)(e,t),load:"currentOnly"}),l};async function o(e,t,s={}){let n=await l(e,t);return{t:n.getFixedT(e,Array.isArray(t)?t[0]:t),i18n:n}}},38859:(e,t,s)=>{"use strict";s.a(e,async(e,n)=>{try{s.d(t,{Z:()=>e});var r=s(71851);let e=(await (0,r.createProxy)(String.raw`D:\MyCode\GameMantine\components\Layout\Layout.tsx`)).default;n()}catch(e){n(e)}},1)},10926:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var n=(0,s(3915).Z)("outline","device-floppy","IconDeviceFloppy",[["path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2",key:"svg-0"}],["path",{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M14 4l0 4l-6 0l0 -4",key:"svg-2"}]])},84428:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var n=(0,s(3915).Z)("outline","refresh","IconRefresh",[["path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4",key:"svg-1"}]])}};var t=require("../../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),n=t.X(0,[4147,9908,3828,6127,1402,434,4333,8750,2583,6446,765,6447],()=>s(1550));module.exports=n})();