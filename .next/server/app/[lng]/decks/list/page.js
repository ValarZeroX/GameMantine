(()=>{var e={};e.id=4125,e.ids=[4125],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},67096:e=>{"use strict";e.exports=require("bcrypt")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},209:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},79348:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30412:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},55315:e=>{"use strict";e.exports=require("path")},86624:e=>{"use strict";e.exports=require("querystring")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},59430:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,pages:()=>d,routeModule:()=>u,tree:()=>c});var s=a(3003),l=a(14293),r=a(66550),n=a.n(r),i=a(86979),o={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);a.d(t,o);let c=["",{children:["[lng]",{children:["decks",{children:["list",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,74306)),"D:\\MyCode\\GameMantine\\app\\[lng]\\decks\\list\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,51028)),"D:\\MyCode\\GameMantine\\app\\[lng]\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,20691)),"D:\\MyCode\\GameMantine\\app\\[lng]\\not-found.tsx"]}]},{"not-found":[()=>Promise.resolve().then(a.t.bind(a,52075,23)),"next/dist/client/components/not-found-error"]}],d=["D:\\MyCode\\GameMantine\\app\\[lng]\\decks\\list\\page.tsx"],m={require:a,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:l.RouteKind.APP_PAGE,page:"/[lng]/decks/list/page",pathname:"/[lng]/decks/list",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},2697:(e,t,a)=>{Promise.resolve().then(a.bind(a,62501)),Promise.resolve().then(a.bind(a,65886))},62501:(e,t,a)=>{"use strict";a.d(t,{default:()=>ed});var s=a(68819),l=a(17266),r=a(10128),n=a(22887),i=a(19040),o=a(11348),c=a(71260),d=a(67852),m=a(46948),u=a(55987),h=a(58970),p=a(82631),g=a(26622),x=a(25257),f=a(56872),j=a(48013),b=a(38750),v=a(64611),k=a(52165),y=a(93422),w=a(14420),C=a(20020),_=a(99705),Z=a(47662),$=a(75923),S=a(19941),z=a(62509),M=a(12979),P=a(15875),D=a(4531),O=a(84362),E=a(98225),L=a(59510),R=a(25193),T=a(43714),q=a(62841),A=a(60292);let N={searchable:!1,withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},I=(0,O.d5)((e,t)=>{let a=(0,D.w)("Select",N,e),{classNames:r,styles:n,unstyled:i,vars:o,dropdownOpened:c,defaultDropdownOpened:d,onDropdownClose:m,onDropdownOpen:u,onFocus:h,onBlur:p,onClick:g,onChange:x,data:f,value:j,defaultValue:b,selectFirstOptionOnChange:v,onOptionSubmit:k,comboboxProps:y,readOnly:w,disabled:C,filter:_,limit:Z,withScrollArea:$,maxDropdownHeight:S,size:O,searchable:I,rightSection:F,checkIconPosition:B,withCheckIcon:G,nothingFoundMessage:K,name:U,form:V,searchValue:H,defaultSearchValue:W,onSearchChange:X,allowDeselect:J,error:Q,rightSectionPointerEvents:Y,id:ee,clearable:et,clearButtonProps:ea,hiddenInputProps:es,renderOption:el,onClear:er,autoComplete:en,scrollAreaProps:ei,...eo}=a,ec=(0,l.useMemo)(()=>(0,E.R)(f),[f]),ed=(0,l.useMemo)(()=>(0,L.g)(ec),[ec]),em=(0,z.M)(ee),[eu,eh,ep]=(0,M.C)({value:j,defaultValue:b,finalValue:null,onChange:x}),eg="string"==typeof eu?ed[eu]:void 0,ex=(0,l.useRef)().current,[ef,ej]=(0,M.C)({value:H,defaultValue:W,finalValue:eg?eg.label:"",onChange:X}),eb=(0,q.K)({opened:c,defaultOpened:d,onDropdownOpen:()=>{u?.(),eb.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{m?.(),eb.resetSelectedOption()}}),{resolvedClassNames:ev,resolvedStyles:ek}=(0,P.h)({props:a,styles:n,classNames:r});(0,l.useEffect)(()=>{v&&eb.selectFirstOption()},[v,eu]),(0,l.useEffect)(()=>{null===j&&ej(""),"string"==typeof j&&eg&&(ex?.value!==eg.value||ex?.label!==eg.label)&&ej(eg.label)},[j,eg]);let ey=et&&!!eu&&!C&&!w&&(0,s.jsx)(R.h.ClearButton,{size:O,...ea,onClear:()=>{eh(null,null),ej(""),er?.()}});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(R.h,{store:eb,__staticSelector:"Select",classNames:ev,styles:ek,unstyled:i,readOnly:w,onOptionSubmit:e=>{k?.(e);let t=J&&ed[e].value===eu?null:ed[e],a=t?t.value:null;a!==eu&&eh(a,t),ep||ej("string"==typeof a&&t?.label||""),eb.closeDropdown()},size:O,...y,children:[(0,s.jsx)(R.h.Target,{targetType:I?"input":"button",autoComplete:en,children:(0,s.jsx)(A.M,{id:em,ref:t,rightSection:F||ey||(0,s.jsx)(R.h.Chevron,{size:O,error:Q,unstyled:i}),rightSectionPointerEvents:Y||(ey?"all":"none"),...eo,size:O,__staticSelector:"Select",disabled:C,readOnly:w||!I,value:ef,onChange:e=>{ej(e.currentTarget.value),eb.openDropdown(),v&&eb.selectFirstOption()},onFocus:e=>{I&&eb.openDropdown(),h?.(e)},onBlur:e=>{I&&eb.closeDropdown(),ej(null!=eu&&ed[eu]?.label||""),p?.(e)},onClick:e=>{I?eb.openDropdown():eb.toggleDropdown(),g?.(e)},classNames:ev,styles:ek,unstyled:i,pointer:!I,error:Q})}),(0,s.jsx)(T.r,{data:ec,hidden:w||C,filter:_,search:ef,limit:Z,hiddenWhenEmpty:!K,withScrollArea:$,maxDropdownHeight:S,filterOptions:I&&eg?.label!==ef,value:eu,checkIconPosition:B,withCheckIcon:G,nothingFoundMessage:K,unstyled:i,labelId:eo.label?`${em}-label`:void 0,"aria-label":eo.label?void 0:eo["aria-label"],renderOption:el,scrollAreaProps:ei})]}),(0,s.jsx)(R.h.HiddenInput,{value:eu,name:U,form:V,disabled:C,...es})]})});I.classes={...A.M.classes,...R.h.classes},I.displayName="@mantine/core/Select";var F=a(61495),B=a(94118),G=a(60740),K=a(99884),U=a(57909),V=a(36854),H=a(69928),W=a(40688),X=a(23603),J=a(86231),Q=(0,a(3915).Z)("filled","star-filled","IconStarFilled",[["path",{d:"M8.243 7.34l-6.38 .925l-.113 .023a1 1 0 0 0 -.44 1.684l4.622 4.499l-1.09 6.355l-.013 .11a1 1 0 0 0 1.464 .944l5.706 -3l5.693 3l.1 .046a1 1 0 0 0 1.352 -1.1l-1.091 -6.355l4.624 -4.5l.078 -.085a1 1 0 0 0 -.633 -1.62l-6.38 -.926l-2.852 -5.78a1 1 0 0 0 -1.794 0l-2.853 5.78z",key:"svg-0"}]]),Y=a(95413),ee=a(14333),et=a(90434),ea=a(77109),es=a(24103),el=a(9531),er=a(34462),en=a(33118),ei=a(46260),eo=a(35047),ec=a(70012);let ed=({lng:e})=>{let{data:t}=(0,ea.useSession)(),a=(0,eo.useSearchParams)(),{t:z}=(0,es.$)(e,["pokemon","common","skill","ability","rule"]),[M,P]=(0,l.useState)([]),[D,O]=(0,l.useState)(!0),[E,L]=(0,l.useState)(0),[R,T]=(0,l.useState)("createdAt"),[q,A]=(0,l.useState)("desc"),{colorScheme:N}=(0,r.X)(),[ed,em]=(0,l.useState)("#228be6"),[eu,eh]=(0,l.useState)("red");(0,l.useEffect)(()=>{"dark"===N?(em("white"),eh("white")):(em("#228be6"),eh("red"))},[N]);let[ep,eg]=(0,en.Z)("searchTerm",""),[ex,ef]=(0,l.useState)([]),[ej,eb]=(0,l.useState)([]),[ev,ek]=(0,en.Z)("isFilterOpenList",!0),[ey,ew]=(0,en.Z)("selectedSetsList",[]),[eC,e_]=(0,en.Z)("selectedDexsList",[]),[eZ,e$]=(0,en.Z)("selectedAspectsList",[]),[eS,ez]=(0,en.Z)("selectedRarityList",[]),[eM,eP]=(0,en.Z)("selectedTypeList",[]),[eD,eO]=(0,en.Z)("selectedWeaknessList",[]),[eE,eL]=(0,en.Z)("selectedRetreatList",[]),[eR,eT]=(0,en.Z)("hpRangeList",[0,250]),[eq,eA]=(0,en.Z)("attackRangeList",[0,250]),[eN,eI]=(0,l.useState)(""),[eF,eB]=(0,l.useState)(20),eG=["A1","PROMO-A"].map(e=>({value:e,label:`(${e})${z(`common:cardSet.${e}`)}`})),eK=["A1C","A1M","A1P"].map(e=>({value:e,label:`(${e})${z(`common:cardDex.${e}`)}`})),eU=["grass","fire","water","lightning","psychic","fighting","darkness","metal","dragon","colorless"].map(e=>({value:e,label:`${z(`common:${e}`)}`})),eV=["Common","Uncommon","Rare","DoubleRare","ArtRare","SuperRare","ImmersiveRare","UltraRare"].map(e=>({value:e,label:`${z(`common:${e}`)}`})),eH=["pokemon","item","supporter"].map(e=>({value:e,label:`${z(`common:${e}`)}`})),eW=["1","2","3","4","5"].map(e=>({value:e,label:e})),eX=async e=>{try{let t=e.length>0?`?sets=${e.join(",")}`:"",a=await fetch(`/api/card${t}`);if(!a.ok)throw Error("無法取得卡片資料。");let s=await a.json();eb(s)}catch(e){eb([])}};(0,l.useEffect)(()=>{0===ey.length?(eb([]),ef([])):eX(ey)},[ey]),(0,l.useEffect)(()=>{let e=ej;if(ep){let t=ep.toLowerCase();e=e.filter(e=>z(`pokemon:${e.name}`).toLowerCase().includes(t)||z(`skill:${e.attack_name_1}.name`).toLowerCase().includes(t)||z(`skill:${e.attack_name_1}.description`).toLowerCase().includes(t)||z(`skill:${e.attack_name_2}.name`).toLowerCase().includes(t)||z(`skill:${e.attack_name_2}.description`).toLowerCase().includes(t)||z(`ability:${e.ability_name}.name`).toLowerCase().includes(t)||z(`ability:${e.ability_name}.description`).toLowerCase().includes(t))}if(ey.length>0&&(e=e.filter(e=>ey.includes(e.set))),eC.length>0&&(e=e.filter(e=>e.dex.some(e=>eC.includes(e)))),eZ.length>0){let t=eZ.map(e=>ei.KH[e]).filter(e=>"number"==typeof e);e=e.filter(e=>t.includes(e.aspects))}if(eS.length>0){let t=eS.map(e=>ei.l6[e]).filter(e=>"number"==typeof e);e=e.filter(e=>t.includes(e.rarity))}if(eM.length>0){let t=eM.map(e=>ei.D[e]).filter(e=>"number"==typeof e);e=e.filter(e=>t.includes(e.type))}if(eD.length>0){let t=eD.map(e=>ei.KH[e]).filter(e=>"number"==typeof e);e=e.filter(e=>t.includes(e.weakness))}if(eE.length>0){let t=eE.map(e=>Number(e)).filter(e=>!isNaN(e));e=e.filter(e=>t.includes(e.retreat))}ef(e=(e=e.filter(e=>e.hp>=eR[0]&&e.hp<=eR[1])).filter(e=>e.attack_1>=eq[0]&&e.attack_1<=eq[1]||null!=e.attack_2&&e.attack_2>=eq[0]&&e.attack_2<=eq[1])),eB(20)},[ej,ep,ey,eC,eZ,eS,eM,eD,eE,eR,eq]);let eJ=({option:e})=>(0,s.jsxs)(n.Z,{gap:"sm",children:[(0,s.jsx)(i.E,{src:`/common/${e.value}.webp`,alt:z(`common:${e.value}`),height:20,width:20}),(0,s.jsx)(o.Text,{size:"sm",children:z(`common:${e.value}`)})]});(0,l.useEffect)(()=>{let e=a.get("selectedCard");e?eI(e):eI("")},[a]);let eQ=async(e,t)=>{try{let a=new URL("/api/decks/list",window.location.origin);"usageCount"===R&&(a=new URL("/api/decks/list/usage",window.location.origin)),"averageRating"===R&&(a=new URL("/api/decks/list/rating",window.location.origin)),a.searchParams.append("limit","10"),null!==t?a.searchParams.append("cursor",t.toString()):a.searchParams.append("cursor",E.toString()),a.searchParams.append("sortBy",R),a.searchParams.append("sortOrder",q),null!==e?a.searchParams.append("card",e):a.searchParams.append("card",eN);let s=await fetch(a.toString());if(!s.ok)throw Error("Failed to fetch decks");let l=await s.json(),r=l.decks.map(e=>e.id);new Set(r).size!==r.length&&console.warn("Duplicate deck IDs found in the response:",r),P(e=>{let a=null!==t?l.decks:[...e,...l.decks],s=new Map;return a.forEach(e=>{s.set(e.id,e)}),Array.from(s.values())}),L(l.nextCursor),O(!l.endCursor)}catch(e){console.error("Error fetching decks:",e),(0,el.c0)({title:z("common:error"),message:z("common:failedToFetchDecks"),color:"red"})}};(0,l.useEffect)(()=>{let e=a.get("selectedCard");L(0),eQ(e,0)},[]);let eY=e=>e.split(",").map(e=>{let t=e.lastIndexOf("-");return -1===t?{set:e.trim(),number:""}:{set:e.substring(0,t).trim(),number:e.substring(t+1).trim()}}),e0=async e=>{if(!t?.user){(0,el.c0)({title:z("common:notification.error_not_logged_in"),message:z("common:notification.error_please_login"),color:"red",icon:(0,s.jsx)(B.Z,{size:16})});return}try{let t=await fetch(`/api/decks/${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({deckName:z("common:notification.notification_unnamed")})}),a=await t.json();t.ok?((0,el.c0)({title:z("common:notification.success"),message:z("common:notification.success_deck_saved"),color:"green",icon:(0,s.jsx)(G.Z,{size:16})}),P(t=>t.map(t=>t.id===e?{...t,isSaved:!0,usageCount:t.usageCount+1}:t))):(0,el.c0)({title:z("common:notification.error"),message:a.message||z("common:notification.error_save_deck_failed"),color:"red",icon:(0,s.jsx)(B.Z,{size:16})})}catch(e){(0,el.c0)({title:z("common:notification.error"),message:z("common:notification.error_save_deck"),color:"red",icon:(0,s.jsx)(B.Z,{size:16})})}finally{}},e1=async e=>{if(!t?.user){(0,el.c0)({title:z("common:notification.error_not_logged_in"),message:z("common:notification.error_please_login"),color:"red",icon:(0,s.jsx)(B.Z,{size:16})});return}try{let t=await fetch(`/api/decks/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"}}),a=await t.json();t.ok?((0,el.c0)({title:z("common:notification.success"),message:z("common:notification.success_deck_deleted"),color:"green",icon:(0,s.jsx)(G.Z,{size:16})}),P(t=>t.map(t=>t.id===e?{...t,isSaved:!1,usageCount:t.usageCount-1}:t))):(0,el.c0)({title:z("common:notification.error_title"),message:a.message||z("common:notification.error_delete_deck_failed"),color:"red",icon:(0,s.jsx)(B.Z,{size:16})})}catch(e){(0,el.c0)({title:z("common:notification.error_title"),message:z("common:notification.error_delete_deck"),color:"red",icon:(0,s.jsx)(B.Z,{size:16})})}finally{}},e2=[{title:z("common:navigation.home"),href:"/"},{title:z("common:navigation.deck_list"),href:"#"}].map((e,t)=>(0,s.jsx)(c.e,{href:e.href,children:e.title},t)),e5=(0,s.jsx)(K.Z,{});return(0,s.jsxs)(d.W,{size:"lg",children:[(0,s.jsx)(m.O,{children:e2}),(0,s.jsx)(u.Title,{order:1,mt:"sm",children:z("common:navigation.deck_list")}),(0,s.jsx)(h.V,{color:"blue",icon:e5,mt:"xl",children:(0,s.jsx)(o.Text,{children:(0,s.jsx)(ec.cC,{i18nKey:"common:filterInstruction",components:[(0,s.jsx)(U.Z,{size:18}),(0,s.jsx)(V.Z,{size:18})]})})}),(0,s.jsxs)(n.Z,{align:"center",justify:"space-between",mb:"md",mt:"md",children:[(0,s.jsx)(p.N,{placeholder:z("common:set"),data:eG,searchable:!0,clearable:!0,value:ey,onChange:ew,maxValues:1}),(0,s.jsxs)(n.Z,{children:[(0,s.jsx)(g.A,{variant:"default",size:"lg",onClick:()=>{e_([]),e$([]),ez([]),eP([]),eO([]),eL([]),eg(""),eT([0,250]),eA([0,250]),eI("")},children:(0,s.jsx)(H.Z,{})}),(0,s.jsx)(g.A,{variant:"default",size:"lg",onClick:()=>ek(!ev),children:(0,s.jsx)(U.Z,{})})]})]}),(0,s.jsxs)(x.U,{in:ev,children:[(0,s.jsx)(f.i,{my:"xs",label:z("common:advancedFiltering"),labelPosition:"left"}),(0,s.jsxs)(j.x,{mb:"md",children:[(0,s.jsx)(n.Z,{children:(0,s.jsx)(b.o,{placeholder:z("common:search_card"),value:ep,onChange:e=>eg(e.target.value),leftSection:(0,s.jsx)(W.Z,{size:16}),radius:"md",size:"md",styles:{input:{width:300}}})}),(0,s.jsxs)(v.r,{mb:"md",children:[(0,s.jsx)(v.r.Col,{span:4,children:(0,s.jsx)(p.N,{label:z("common:dex"),placeholder:z("common:dex"),data:eK,searchable:!0,clearable:!0,value:eC,onChange:e_})}),(0,s.jsx)(v.r.Col,{span:4,children:(0,s.jsx)(p.N,{label:z("common:aspects"),placeholder:z("common:aspects"),data:eU,clearable:!0,renderOption:eJ,value:eZ,onChange:e$})}),(0,s.jsx)(v.r.Col,{span:4,children:(0,s.jsx)(p.N,{label:z("common:rarity"),placeholder:z("common:rarity"),data:eV,clearable:!0,renderOption:({option:e})=>(0,s.jsxs)(n.Z,{gap:"sm",children:[(0,s.jsx)(i.E,{src:`/common/${e.value}.webp`,alt:z(`common:${e.value}`),height:20,width:20}),(0,s.jsx)(o.Text,{size:"sm",children:z(`common:${e.value}`)})]}),value:eS,onChange:ez})})]}),(0,s.jsxs)(v.r,{mb:"md",children:[(0,s.jsx)(v.r.Col,{span:4,children:(0,s.jsx)(p.N,{label:z("common:type"),placeholder:z("common:type"),data:eH,clearable:!0,value:eM,onChange:eP})}),(0,s.jsx)(v.r.Col,{span:4,children:(0,s.jsx)(p.N,{label:z("common:weakness"),placeholder:z("common:weakness"),data:eU,clearable:!0,renderOption:eJ,value:eD,onChange:eO})}),(0,s.jsx)(v.r.Col,{span:4,children:(0,s.jsx)(p.N,{label:z("common:retreat"),placeholder:z("common:retreat"),data:eW,clearable:!0,value:eE,onChange:eL})})]}),(0,s.jsxs)(v.r,{mb:"md",gutter:"md",children:[(0,s.jsx)(v.r.Col,{span:{base:12,sm:6,md:6},mt:"sm",mb:"md",children:(0,s.jsx)(k.K,{children:(0,s.jsx)(y.U,{min:0,max:250,value:eR,onChange:eT,marks:[{value:0,label:"0"},{value:50,label:"50"},{value:100,label:"100"},{value:150,label:"150"},{value:200,label:"200"},{value:250,label:"250"}],"aria-label":z("common:hp_range"),thumbSize:26,thumbChildren:[(0,s.jsx)(X.Z,{size:"1rem",color:eu},"1"),(0,s.jsx)(X.Z,{size:"1rem",color:eu},"2")],color:"red"})})}),(0,s.jsx)(v.r.Col,{span:{base:12,sm:6,md:6},mt:"sm",mb:"md",children:(0,s.jsx)(k.K,{children:(0,s.jsx)(y.U,{min:0,max:250,value:eq,onChange:eA,marks:[{value:0,label:"0"},{value:50,label:"50"},{value:100,label:"100"},{value:150,label:"150"},{value:200,label:"200"},{value:250,label:"250"}],"aria-label":z("common:attack_range"),thumbSize:26,thumbChildren:[(0,s.jsx)(J.Z,{size:"1rem",color:ed},"3"),(0,s.jsx)(J.Z,{size:"1rem",color:ed},"4")]})})})]})]}),(0,s.jsx)(w.x,{h:440,scrollbars:"y",mt:"md",id:"scrollableDiv",children:(0,s.jsxs)(j.x,{mt:"md",h:610,children:[(0,s.jsx)(v.r,{mt:"md",columns:10,children:ex.slice(0,eF).map(t=>(0,s.jsx)(v.r.Col,{span:{base:5,sm:2,md:2,lg:2},children:(0,s.jsxs)(C.Z,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,onClick:()=>eI(eN===t.number?"":t.number),style:{cursor:"pointer",filter:eN&&eN!==t.number?"grayscale(100%)":"none"},children:[(0,s.jsx)(C.Z.Section,{children:(0,s.jsx)(i.E,{src:`/${e}/${t.set}/${t.number}.webp`,alt:z(`pokemon:${t.name}`),loading:"lazy"})}),(0,s.jsxs)(k.K,{mt:"md",align:"center",gap:"xs",children:[(0,s.jsx)(o.Text,{fw:700,size:"lg",children:z(`pokemon:${t.name}`)}),(0,s.jsx)(o.Text,{c:"dimmed",size:"sm",children:t.number}),(0,s.jsxs)(_.k,{gap:"xs",justify:"center",wrap:"wrap",children:[(0,s.jsx)(Z.C,{color:"blue",variant:"light",children:z(`common:cardSet.${t.set}`)}),t.dex.filter(e=>"NO"!==e).map((e,t)=>(0,s.jsx)(Z.C,{color:"green",variant:"outline",children:z(`common:cardDex.${e}`)},t))]})]})]})},t.id))}),eF<ex.length&&(0,s.jsx)($.M,{mt:"md",children:(0,s.jsx)(S.z,{onClick:()=>{eB(e=>e+20)},children:"載入更多"})})]})})]}),(0,s.jsx)(f.i,{my:"xs",label:z("common:navigation.deck_list"),labelPosition:"left"}),(0,s.jsxs)(_.k,{mt:"md",align:"flex-end",gap:"md",children:[(0,s.jsx)(I,{label:z("common:sorting.sortingMode"),placeholder:z("common:sorting.chooseSortingMode"),data:[{value:"averageRating",label:z("common:sorting.rating")},{value:"usageCount",label:z("common:sorting.favorite")},{value:"createdAt",label:z("common:sorting.creationTime")}],value:R,onChange:e=>{null!==e&&T(e)},style:{width:200}}),(0,s.jsx)(I,{label:z("common:sorting.sortingOrder"),placeholder:z("common:sorting.chooseSortingOrder"),data:[{value:"desc",label:z("common:sorting.descendingNewest")},{value:"asc",label:z("common:sorting.ascendingOldest")}],value:q,onChange:e=>{null!==e&&A(e)},style:{width:200}}),(0,s.jsxs)(S.z,{onClick:()=>{P([]),L(0),O(!0),eQ(null,0)},style:{height:36},children:[(0,s.jsx)(V.Z,{}),z("common:sorting.submit")]})]}),(0,s.jsx)(er.Z,{dataLength:M.length,next:()=>{eQ(null,null)},hasMore:D,loader:(0,s.jsx)($.M,{mt:"md",children:(0,s.jsx)(F.a,{})}),endMessage:(0,s.jsx)(s.Fragment,{}),style:{width:"100%",overflow:"hidden"},children:(0,s.jsx)(v.r,{mt:"md",children:M.map(t=>(0,s.jsx)(v.r.Col,{children:(0,s.jsxs)(C.Z,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,children:[(0,s.jsx)(C.Z.Section,{withBorder:!0,inheritPadding:!0,py:"xs",children:(0,s.jsxs)(n.Z,{style:{marginBottom:5},justify:"space-between",children:[(0,s.jsx)(u.Title,{order:4,children:t.id}),(0,s.jsxs)(n.Z,{children:[(0,s.jsx)(Q,{color:"#fcc419"}),(0,s.jsx)(o.Text,{fw:500,children:t.averageRating.toFixed(2)}),t.isSaved?(0,s.jsx)(g.A,{variant:"default",size:"lg",onClick:()=>e1(t.id),children:(0,s.jsx)(Y.Z,{color:"#fcc419"})}):(0,s.jsx)(g.A,{variant:"default",size:"lg",onClick:()=>e0(t.id),children:(0,s.jsx)(ee.Z,{color:"#fcc419"})}),(0,s.jsx)(o.Text,{fw:500,children:t.usageCount})]})]})}),(0,s.jsx)(et.default,{href:`/decks/${t.id}`,passHref:!0,style:{textDecoration:"none"},children:(0,s.jsx)(v.r,{columns:10,mt:"md",children:eY(t.deckCards).map((a,l)=>(0,s.jsx)(v.r.Col,{span:{base:2,sm:2,md:1,lg:1},children:(0,s.jsx)(i.E,{radius:"md",src:`/${e}/${a.set}/${a.set}-${a.number}.webp`,alt:`${a.set}-${a.number}`,loading:"lazy"})},`${t.id}-${a.set}-${a.number}-${l}`))})})]})},t.id))})})]})}},42650:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.r(t),a.d(t,{default:()=>e});var l=a(71851);let e=(await (0,l.createProxy)(String.raw`D:\MyCode\GameMantine\app\[lng]\decks\list\DecksListPageClient.tsx`)).default;s()}catch(e){s(e)}},1)},74306:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.r(t),a.d(t,{default:()=>d,generateMetadata:()=>c});var l=a(89351);a(22052);var r=a(38859),n=a(46061),i=a(42650),o=e([r,i]);async function c({params:e}){let{lng:t}=await e,{t:a}=await (0,n.$)(t,"common");return{title:a("metadata.decks_list_title"),description:a("metadata.decks_list_description"),keywords:a("metadata.decks_list_keywords")}}[r,i]=o.then?(await o)():o;let d=async({params:e})=>{let{lng:t}=await e;return(0,l.jsx)(r.Z,{lng:t,children:(0,l.jsx)(i.default,{lng:t})})};s()}catch(e){s(e)}})},14333:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var s=(0,a(3915).Z)("outline","bookmark","IconBookmark",[["path",{d:"M18 7v14l-6 -4l-6 4v-14a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4z",key:"svg-0"}]])},95413:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var s=(0,a(3915).Z)("filled","bookmark-filled","IconBookmarkFilled",[["path",{d:"M14 2a5 5 0 0 1 5 5v14a1 1 0 0 1 -1.555 .832l-5.445 -3.63l-5.444 3.63a1 1 0 0 1 -1.55 -.72l-.006 -.112v-14a5 5 0 0 1 5 -5h4z",key:"svg-0"}]])},60740:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var s=(0,a(3915).Z)("outline","check","IconCheck",[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]])},36854:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var s=(0,a(3915).Z)("outline","send","IconSend",[["path",{d:"M10 14l11 -11",key:"svg-0"}],["path",{d:"M21 3l-6.5 18a.55 .55 0 0 1 -1 0l-3.5 -7l-7 -3.5a.55 .55 0 0 1 0 -1l18 -6.5",key:"svg-1"}]])},94118:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var s=(0,a(3915).Z)("outline","x","IconX",[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]])}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[4147,9908,3828,6127,1402,434,4333,8750,2583,6447,1832],()=>a(59430));module.exports=s})();