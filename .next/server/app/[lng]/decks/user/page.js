(()=>{var e={};e.id=1648,e.ids=[1648],e.modules={53681:(e,t,s)=>{var r={"./en/ability.json":[21695,1695],"./en/common.json":[7790,7790],"./en/pokemon.json":[52763,2763],"./en/rule.json":[19166,9166],"./en/skill.json":[68591,8591],"./zh-Hans/ability.json":[47321,7321],"./zh-Hans/common.json":[26476,6476],"./zh-Hans/pokemon.json":[73407,3407],"./zh-Hans/rule.json":[59620,9620],"./zh-Hans/skill.json":[61529,1529],"./zh-Hant/ability.json":[48380,8380],"./zh-Hant/common.json":[87097,7097],"./zh-Hant/pokemon.json":[88636,8636],"./zh-Hant/rule.json":[42877,2877],"./zh-Hant/skill.json":[88227,8227]};function n(e){if(!s.o(r,e))return Promise.resolve().then(()=>{var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=r[e],n=t[0];return s.e(t[1]).then(()=>s.t(n,19))}n.keys=()=>Object.keys(r),n.id=53681,e.exports=n},53524:e=>{"use strict";e.exports=require("@prisma/client")},67096:e=>{"use strict";e.exports=require("bcrypt")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},209:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},79348:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30412:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},55315:e=>{"use strict";e.exports=require("path")},86624:e=>{"use strict";e.exports=require("querystring")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},44289:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>a.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var r=s(3003),n=s(14293),i=s(66550),a=s.n(i),o=s(86979),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let d=["",{children:["[lng]",{children:["decks",{children:["user",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,73785)),"D:\\MyCode\\GameMantine\\app\\[lng]\\decks\\user\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,51028)),"D:\\MyCode\\GameMantine\\app\\[lng]\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,20691)),"D:\\MyCode\\GameMantine\\app\\[lng]\\not-found.tsx"]}]},{"not-found":[()=>Promise.resolve().then(s.t.bind(s,52075,23)),"next/dist/client/components/not-found-error"]}],c=["D:\\MyCode\\GameMantine\\app\\[lng]\\decks\\user\\page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/[lng]/decks/user/page",pathname:"/[lng]/decks/user",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},96799:(e,t,s)=>{Promise.resolve().then(s.bind(s,88371)),Promise.resolve().then(s.bind(s,65886))},88371:(e,t,s)=>{"use strict";s.d(t,{default:()=>w});var r=s(68819),n=s(17266),i=s(71260),a=s(67852),o=s(75923),l=s(11348),d=s(46948),c=s(55987),u=s(61495),m=s(64611),x=s(20020),h=s(22887),p=s(48013),j=s(26622),g=s(19040),k=s(94118),v=s(39299),b=(0,s(3915).Z)("outline","edit","IconEdit",[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]]),y=s(90434),f=s(77109),_=s(24103),z=s(9531);let w=({lng:e})=>{let{data:t}=(0,f.useSession)(),{t:s}=(0,_.$)(e,["pokemon","common","skill","ability","rule"]),[w,C]=(0,n.useState)([]),[M,Z]=(0,n.useState)(!1);(0,n.useEffect)(()=>{(async()=>{if(t?.user?.id){Z(!0);try{let e=await fetch("/api/decks/user"),t=await e.json();e.ok?C(t):(0,z.c0)({title:"錯誤",message:t.message||"獲取牌庫失敗。",color:"red",icon:(0,r.jsx)(k.Z,{size:16})})}catch(e){(0,z.c0)({title:"錯誤",message:"獲取牌庫時發生錯誤。",color:"red",icon:(0,r.jsx)(k.Z,{size:16})})}finally{Z(!1)}}})()},[t]);let q=e=>e.split(",").map(e=>{let t=e.lastIndexOf("-");return -1===t?{set:e.trim(),number:""}:{set:e.substring(0,t).trim(),number:e.substring(t+1).trim()}}),O=[{title:s("common:navigation.home"),href:"/"},{title:s("common:navigation.my_decks"),href:"#"}].map((e,t)=>(0,r.jsx)(i.e,{href:e.href,children:e.title},t));return(0,r.jsx)(a.W,{size:"lg",children:t?.user?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.O,{children:O}),(0,r.jsx)(c.Title,{order:1,mt:"sm",children:s("common:title.my_decks")}),M?(0,r.jsx)(l.Text,{component:"div",children:(0,r.jsx)(o.M,{children:(0,r.jsx)(u.a,{size:"md",my:"md"})})}):(0,r.jsx)(m.r,{mt:"md",columns:10,children:w.map(t=>(0,r.jsx)(m.r.Col,{span:10,children:(0,r.jsxs)(x.Z,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,children:[(0,r.jsx)(x.Z.Section,{withBorder:!0,inheritPadding:!0,py:"xs",children:(0,r.jsxs)(h.Z,{mb:"xs",justify:"space-between",children:[(0,r.jsx)(p.x,{w:300,children:(0,r.jsx)(l.Text,{truncate:"end",children:t.deckName})}),(0,r.jsxs)(h.Z,{children:[(0,r.jsx)(j.A,{variant:"default",size:"lg",component:y.default,href:`/decks/${t.deck.id}`,children:(0,r.jsx)(v.Z,{})}),(0,r.jsx)(j.A,{variant:"default",size:"lg",component:y.default,href:`/decks/${t.id}/edit`,children:(0,r.jsx)(b,{})})]})]})}),(0,r.jsx)(m.r,{columns:10,mt:"md",children:q(t.deck.deckCards).map((s,n)=>(0,r.jsx)(m.r.Col,{span:{base:2,sm:2,md:1,lg:1},children:(0,r.jsx)(g.E,{radius:"md",src:`/${e}/${s.set}/${s.set}-${s.number}.webp`,alt:`${s.set}-${s.number}`})},`${t.id}-${s.set}-${s.number}-${n}`))})]})},t.id))})]}):(0,r.jsx)(o.M,{children:(0,r.jsxs)(l.Text,{children:[s("common:errors.error_insufficient_permissions")," ",(0,r.jsx)(i.e,{component:y.default,href:"/login",size:"sm",children:s("common:login.login")})]})})})}},65886:(e,t,s)=>{"use strict";s.d(t,{default:()=>A});var r=s(68819),n=s(17266),i=s(28964),a=s(64058),o=s(22887),l=s(65582),d=s(91603),c=s(15700),u=s(26622),m=s(11348),x=s(61495),h=s(10773),p=s(80104),j=s(7380),g=s(41295),k=s(10128),v=s(64443);function b(){let{colorScheme:e,toggleColorScheme:t}=(0,k.X)(),[s,i]=(0,n.useState)(()=>v.Z);return(0,r.jsx)(u.A,{variant:"default","aria-label":"Toggle theme",size:"lg",onClick:()=>t(),children:(0,r.jsx)(s,{style:{width:"80%",height:"80%"},stroke:1.5})})}s(75382);var y=s(26699),f=s.n(y),_=s(35047),z=s(77109),w=s(17561),C=s(24103);let M=({opened:e,toggle:t,desktopOpened:s,toggleDesktop:n,lng:i})=>{let a=(0,_.useRouter)(),k=(0,_.usePathname)(),{data:v,status:y}=(0,z.useSession)(),{t:M}=(0,C.$)(i,["common"]),Z=e=>{a.push(e)},q=async()=>{await (0,z.signOut)({callbackUrl:"/"})},O=e=>{if(e===i)return;let t=k.split("/");w.Mj.includes(t[1])?t[1]=e:t.splice(1,0,e);let s=t.join("/")||"/";a.push(s)};return(0,r.jsxs)("div",{className:f().inner,children:[(0,r.jsxs)(o.Z,{h:"100%",px:"md",children:[(0,r.jsx)(l.O,{opened:e,onClick:t,hiddenFrom:"sm",size:"sm"}),(0,r.jsx)(l.O,{opened:s,onClick:n,visibleFrom:"sm",size:"sm"}),(0,r.jsx)(h.Z,{style:{width:(0,d.h)(36),height:(0,d.h)(36)},stroke:1.5,color:"var(--mantine-color-red-filled)"}),(0,r.jsx)("div",{children:"Pokemon Nier"})]}),(0,r.jsx)("div",{className:f().actionIcon,children:(0,r.jsxs)(o.Z,{children:[(0,r.jsx)(b,{}),(0,r.jsxs)(c.v,{withArrow:!0,children:[(0,r.jsx)(c.v.Target,{children:(0,r.jsx)(u.A,{variant:"default",size:"lg","aria-label":"Language",children:(0,r.jsx)(p.Z,{})})}),(0,r.jsxs)(c.v.Dropdown,{children:[(0,r.jsx)(c.v.Label,{children:M("common:navigation.language_selection")}),(0,r.jsx)(c.v.Item,{onClick:()=>O("zh-Hans"),children:(0,r.jsx)(m.Text,{children:"简体中文"})}),(0,r.jsx)(c.v.Item,{onClick:()=>O("zh-Hant"),children:(0,r.jsx)(m.Text,{children:"繁體中文"})})]})]}),"loading"===y?(0,r.jsx)(u.A,{variant:"default",size:"lg","aria-label":"Loading",children:(0,r.jsx)(x.a,{color:"blue"})}):v?(0,r.jsx)(u.A,{variant:"default",size:"lg","aria-label":"Logout",onClick:q,children:(0,r.jsx)(j.Z,{})}):(0,r.jsx)(u.A,{variant:"default",size:"lg","aria-label":"Login",onClick:()=>Z("/login"),children:(0,r.jsx)(g.Z,{})})]})})]})};var Z=s(3484),q=s(43684),O=s(39299),P=s(73366),$=s(24089);let H=({lng:e})=>{let t=(0,_.useRouter)(),{data:s,status:n}=(0,z.useSession)(),{t:i}=(0,C.$)(e,["common"]),a=e=>{t.push(e)};return(0,r.jsxs)("nav",{children:[(0,r.jsx)(Z.O,{component:"button",label:i("common:navigation.home"),leftSection:(0,r.jsx)(q.Z,{size:"1rem",stroke:1.5}),onClick:()=>a("/")}),(0,r.jsx)(Z.O,{component:"button",label:i("common:navigation.cards"),leftSection:(0,r.jsx)(O.Z,{size:"1rem",stroke:1.5}),onClick:()=>a("/cards")}),(0,r.jsxs)(Z.O,{component:"button",label:i("common:navigation.deck"),leftSection:(0,r.jsx)(P.Z,{size:"1rem",stroke:1.5}),children:[(0,r.jsx)(Z.O,{label:i("common:navigation.deck_list"),onClick:()=>a("/decks/list")}),(0,r.jsx)(Z.O,{label:i("common:navigation.create_deck"),onClick:()=>a("/decks/build")}),s&&(0,r.jsx)(Z.O,{label:i("common:navigation.my_decks"),onClick:()=>a("/decks/user")})]}),(0,r.jsx)(Z.O,{component:"button",label:i("common:navigation.about"),leftSection:(0,r.jsx)($.Z,{size:"1rem",stroke:1.5}),onClick:()=>a("/about")})]})};function A({children:e,lng:t}){let[s,{toggle:n}]=(0,a.q)(),[o,{toggle:l}]=(0,a.q)(!0);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(i.V,{header:{height:60},navbar:{width:300,breakpoint:"sm",collapsed:{mobile:!s,desktop:!o}},padding:"md",children:[(0,r.jsx)(i.V.Header,{children:(0,r.jsx)(M,{opened:s,toggle:n,desktopOpened:o,toggleDesktop:l,lng:t})}),(0,r.jsx)(i.V.Navbar,{p:"md",children:(0,r.jsx)(H,{lng:t})}),(0,r.jsx)(i.V.Main,{children:e})]})})}},26699:e=>{e.exports={inner:"Header_inner__BWOOt",link:"Header_link___GWEF",actionIcon:"Header_actionIcon__d8zIz"}},7834:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.d(t,{Z:()=>e});var n=s(71851);let e=(await (0,n.createProxy)(String.raw`D:\MyCode\GameMantine\app\[lng]\decks\user\UserDecksPageClient.tsx`)).default;r()}catch(e){r(e)}},1)},73785:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{default:()=>c,generateMetadata:()=>d});var n=s(89351);s(22052);var i=s(38859),a=s(46061),o=s(7834),l=e([i,o]);async function d({params:e}){let{lng:t}=await e,{t:s}=await (0,a.$)(t,"common");return{title:s("metadata.decks_user_title"),description:s("metadata.decks_user_description"),keywords:s("metadata.decks_user_keywords")}}[i,o]=l.then?(await l)():l;let c=async({params:e})=>{let{lng:t}=await e;return(0,n.jsx)(i.Z,{lng:t,children:(0,n.jsx)(o.Z,{lng:t})})};r()}catch(e){r(e)}})},46061:(e,t,s)=>{"use strict";s.d(t,{$:()=>l});var r=s(95131),n=s(25369),i=s(7372),a=s(24546);let o=async(e,t)=>{let o=(0,r.Fs)();return await o.use(i.D).use((0,n.Z)((e,t)=>s(53681)(`./${e}/${t}.json`))).init({...(0,a.FW)(e,t),load:"currentOnly"}),o};async function l(e,t,s={}){let r=await o(e,t);return{t:r.getFixedT(e,Array.isArray(t)?t[0]:t),i18n:r}}},38859:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.d(t,{Z:()=>e});var n=s(71851);let e=(await (0,n.createProxy)(String.raw`D:\MyCode\GameMantine\components\Layout\Layout.tsx`)).default;r()}catch(e){r(e)}},1)},94118:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var r=(0,s(3915).Z)("outline","x","IconX",[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]])}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[4147,9908,3828,6127,1402,434,4333,6447],()=>s(44289));module.exports=r})();