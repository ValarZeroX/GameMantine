(()=>{var e={};e.id=1648,e.ids=[1648],e.modules={53681:(e,s,t)=>{var n={"./en/ability.json":[21695,1695],"./en/common.json":[7790,7790],"./en/pokemon.json":[52763,2763],"./en/rule.json":[19166,9166],"./en/skill.json":[68591,8591],"./zh-Hans/ability.json":[47321,7321],"./zh-Hans/common.json":[26476,6476],"./zh-Hans/pokemon.json":[73407,3407],"./zh-Hans/rule.json":[59620,9620],"./zh-Hans/skill.json":[61529,1529],"./zh-Hant/ability.json":[48380,8380],"./zh-Hant/common.json":[87097,7097],"./zh-Hant/pokemon.json":[88636,8636],"./zh-Hant/rule.json":[42877,2877],"./zh-Hant/skill.json":[88227,8227]};function r(e){if(!t.o(n,e))return Promise.resolve().then(()=>{var s=Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s});var s=n[e],r=s[0];return t.e(s[1]).then(()=>t.t(r,19))}r.keys=()=>Object.keys(n),r.id=53681,e.exports=r},53524:e=>{"use strict";e.exports=require("@prisma/client")},67096:e=>{"use strict";e.exports=require("bcrypt")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},209:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},79348:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30412:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},55315:e=>{"use strict";e.exports=require("path")},86624:e=>{"use strict";e.exports=require("querystring")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},44289:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var n=t(3003),r=t(14293),i=t(66550),o=t.n(i),a=t(86979),l={};for(let e in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);t.d(s,l);let c=["",{children:["[lng]",{children:["decks",{children:["user",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,73785)),"D:\\MyCode\\GameMantine\\app\\[lng]\\decks\\user\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,51028)),"D:\\MyCode\\GameMantine\\app\\[lng]\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,20691)),"D:\\MyCode\\GameMantine\\app\\[lng]\\not-found.tsx"]}]},{"not-found":[()=>Promise.resolve().then(t.t.bind(t,52075,23)),"next/dist/client/components/not-found-error"]}],d=["D:\\MyCode\\GameMantine\\app\\[lng]\\decks\\user\\page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},m=new n.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/[lng]/decks/user/page",pathname:"/[lng]/decks/user",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},96799:(e,s,t)=>{Promise.resolve().then(t.bind(t,88371)),Promise.resolve().then(t.bind(t,41737))},88371:(e,s,t)=>{"use strict";t.d(s,{default:()=>w});var n=t(68819),r=t(17266),i=t(71260),o=t(67852),a=t(75923),l=t(11348),c=t(46948),d=t(55987),u=t(61495),m=t(64611),x=t(20020),h=t(22887),p=t(48013),j=t(26622),g=t(19040),k=t(94118),v=t(39299),f=(0,t(3915).Z)("outline","edit","IconEdit",[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]]),b=t(90434),y=t(77109),_=t(24103),z=t(9531);let w=({lng:e})=>{let{data:s}=(0,y.useSession)(),{t}=(0,_.$)(e,["pokemon","common","skill","ability","rule"]),[w,C]=(0,r.useState)([]),[Z,M]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{if(s?.user?.id){M(!0);try{let e=await fetch("/api/decks/user"),s=await e.json();e.ok?C(s):(0,z.c0)({title:"錯誤",message:s.message||"獲取牌庫失敗。",color:"red",icon:(0,n.jsx)(k.Z,{size:16})})}catch(e){(0,z.c0)({title:"錯誤",message:"獲取牌庫時發生錯誤。",color:"red",icon:(0,n.jsx)(k.Z,{size:16})})}finally{M(!1)}}})()},[s]);let O=e=>e.split(",").map(e=>{let s=e.lastIndexOf("-");return -1===s?{set:e.trim(),number:""}:{set:e.substring(0,s).trim(),number:e.substring(s+1).trim()}}),q=[{title:t("common:navigation.home"),href:"/"},{title:t("common:navigation.my_decks"),href:"#"}].map((e,s)=>(0,n.jsx)(i.e,{href:e.href,children:e.title},s));return(0,n.jsx)(o.W,{size:"lg",children:s?.user?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.O,{children:q}),(0,n.jsx)(d.Title,{order:1,mt:"sm",children:t("common:title.my_decks")}),Z?(0,n.jsx)(l.Text,{component:"div",children:(0,n.jsx)(a.M,{children:(0,n.jsx)(u.a,{size:"md",my:"md"})})}):(0,n.jsx)(m.r,{mt:"md",columns:10,children:w.map(s=>(0,n.jsx)(m.r.Col,{span:10,children:(0,n.jsxs)(x.Z,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,children:[(0,n.jsx)(x.Z.Section,{withBorder:!0,inheritPadding:!0,py:"xs",children:(0,n.jsxs)(h.Z,{mb:"xs",justify:"space-between",children:[(0,n.jsx)(p.x,{w:300,children:(0,n.jsx)(l.Text,{truncate:"end",children:s.deckName})}),(0,n.jsxs)(h.Z,{children:[(0,n.jsx)(j.A,{variant:"default",size:"lg",component:b.default,href:`/decks/${s.deck.id}`,children:(0,n.jsx)(v.Z,{})}),(0,n.jsx)(j.A,{variant:"default",size:"lg",component:b.default,href:`/decks/${s.id}/edit`,children:(0,n.jsx)(f,{})})]})]})}),(0,n.jsx)(m.r,{columns:10,mt:"md",children:O(s.deck.deckCards).map((t,r)=>(0,n.jsx)(m.r.Col,{span:{base:2,sm:2,md:1,lg:1},children:(0,n.jsx)(g.E,{radius:"md",src:`/${e}/${t.set}/${t.set}-${t.number}.webp`,alt:`${t.set}-${t.number}`})},`${s.id}-${t.set}-${t.number}-${r}`))})]})},s.id))})]}):(0,n.jsx)(a.M,{children:(0,n.jsxs)(l.Text,{children:[t("common:errors.error_insufficient_permissions")," ",(0,n.jsx)(i.e,{component:b.default,href:"/login",size:"sm",children:t("common:login.login")})]})})})}},41737:(e,s,t)=>{"use strict";t.d(s,{default:()=>B});var n=t(68819),r=t(17266),i=t(28964),o=t(64058),a=t(22887),l=t(65582),c=t(91603),d=t(15700),u=t(26622),m=t(11348),x=t(61495),h=t(10773),p=t(80104),j=t(7380),g=t(41295),k=t(10128),v=t(64443);function f(){let{colorScheme:e,toggleColorScheme:s}=(0,k.X)(),[t,i]=(0,r.useState)(()=>v.Z);return(0,n.jsx)(u.A,{variant:"default","aria-label":"Toggle theme",size:"lg",onClick:()=>s(),children:(0,n.jsx)(t,{style:{width:"80%",height:"80%"},stroke:1.5})})}t(75382);var b=t(26699),y=t.n(b),_=t(35047),z=t(77109),w=t(17561),C=t(24103);let Z=({opened:e,toggle:s,desktopOpened:t,toggleDesktop:r,lng:i})=>{let o=(0,_.useRouter)(),k=(0,_.usePathname)(),{data:v,status:b}=(0,z.useSession)(),{t:Z}=(0,C.$)(i,["common"]),M=e=>{o.push(e)},O=async()=>{await (0,z.signOut)({callbackUrl:"/"})},q=e=>{if(e===i)return;let s=k.split("/");w.Mj.includes(s[1])?s[1]=e:s.splice(1,0,e);let t=s.join("/")||"/";o.push(t)};return(0,n.jsxs)("div",{className:y().inner,children:[(0,n.jsxs)(a.Z,{h:"100%",px:"md",children:[(0,n.jsx)(l.O,{opened:e,onClick:s,hiddenFrom:"sm",size:"sm"}),(0,n.jsx)(l.O,{opened:t,onClick:r,visibleFrom:"sm",size:"sm"}),(0,n.jsx)(h.Z,{style:{width:(0,c.h)(36),height:(0,c.h)(36)},stroke:1.5,color:"var(--mantine-color-red-filled)"}),(0,n.jsx)("div",{children:"Pokemon Nier"})]}),(0,n.jsx)("div",{className:y().actionIcon,children:(0,n.jsxs)(a.Z,{children:[(0,n.jsx)(f,{}),(0,n.jsxs)(d.v,{withArrow:!0,children:[(0,n.jsx)(d.v.Target,{children:(0,n.jsx)(u.A,{variant:"default",size:"lg","aria-label":"Language",children:(0,n.jsx)(p.Z,{})})}),(0,n.jsxs)(d.v.Dropdown,{children:[(0,n.jsx)(d.v.Label,{children:Z("common:navigation.language_selection")}),(0,n.jsx)(d.v.Item,{onClick:()=>q("en"),children:(0,n.jsx)(m.Text,{children:"English"})}),(0,n.jsx)(d.v.Item,{onClick:()=>q("zh-Hans"),children:(0,n.jsx)(m.Text,{children:"简体中文"})}),(0,n.jsx)(d.v.Item,{onClick:()=>q("zh-Hant"),children:(0,n.jsx)(m.Text,{children:"繁體中文"})})]})]}),"loading"===b?(0,n.jsx)(u.A,{variant:"default",size:"lg","aria-label":"Loading",children:(0,n.jsx)(x.a,{color:"blue"})}):v?(0,n.jsx)(u.A,{variant:"default",size:"lg","aria-label":"Logout",onClick:O,children:(0,n.jsx)(j.Z,{})}):(0,n.jsx)(u.A,{variant:"default",size:"lg","aria-label":"Login",onClick:()=>M("/login"),children:(0,n.jsx)(g.Z,{})})]})})]})};var M=t(52165),O=t(3484),q=t(43684),P=t(39299),$=t(73366),H=t(14100),S=t(51036),A=t(24089),T=t(94468),D=t(93610),E=t(38018),G=t(30856),I=t.n(G);let N=({})=>{let{data:e,status:s}=(0,z.useSession)();return(0,n.jsx)(D.k,{className:I().user,children:(0,n.jsxs)(a.Z,{children:[(0,n.jsx)(E.q,{radius:"xl",style:{cursor:"pointer"},name:e?.user.name??"",color:"initials"},e?.user.name??""),(0,n.jsxs)("div",{style:{flex:1},children:[(0,n.jsx)(m.Text,{size:"sm",fw:500,children:e?.user.name??""}),(0,n.jsx)(m.Text,{c:"dimmed",size:"xs",children:e?.user.email})]}),(0,n.jsx)(T.Z,{size:14,stroke:1.5})]})})};var F=t(74984),L=t.n(F);let U=({lng:e})=>{let s=(0,_.useRouter)(),{data:t,status:r}=(0,z.useSession)(),{t:i}=(0,C.$)(e,["common"]),o=e=>{s.push(e)};return(0,n.jsxs)(M.K,{justify:"space-between",h:"100%",children:[(0,n.jsxs)("nav",{children:[(0,n.jsx)(O.O,{component:"button",label:i("common:navigation.home"),leftSection:(0,n.jsx)(q.Z,{size:"1rem",stroke:1.5}),onClick:()=>o("/")}),(0,n.jsx)(O.O,{component:"button",label:i("common:navigation.cards"),leftSection:(0,n.jsx)(P.Z,{size:"1rem",stroke:1.5}),onClick:()=>o("/cards")}),(0,n.jsxs)(O.O,{component:"button",label:i("common:navigation.deck"),leftSection:(0,n.jsx)($.Z,{size:"1rem",stroke:1.5}),children:[(0,n.jsx)(O.O,{label:i("common:navigation.deck_list"),onClick:()=>o("/decks/list")}),(0,n.jsx)(O.O,{label:i("common:navigation.create_deck"),onClick:()=>o("/decks/build")}),t&&(0,n.jsx)(O.O,{label:i("common:navigation.my_decks"),onClick:()=>o("/decks/user")})]}),(0,n.jsx)(O.O,{component:"button",label:i("common:pokedex_collection"),leftSection:(0,n.jsx)(H.Z,{size:"1rem",stroke:1.5}),onClick:()=>o("/recommend")}),(0,n.jsx)(O.O,{component:"button",label:i("common:community"),leftSection:(0,n.jsx)(S.Z,{size:"1rem",stroke:1.5}),children:(0,n.jsx)(O.O,{label:i("common:friend"),onClick:()=>o("/community/friend")})}),(0,n.jsx)(O.O,{component:"button",label:i("common:navigation.about"),leftSection:(0,n.jsx)(A.Z,{size:"1rem",stroke:1.5}),onClick:()=>o("/about")})]}),t&&(0,n.jsx)("div",{className:L().footer,onClick:()=>o("/user"),children:(0,n.jsx)(N,{})})]})};function B({children:e,lng:s}){let[t,{toggle:r}]=(0,o.q)(),[a,{toggle:l}]=(0,o.q)(!0);return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(i.V,{header:{height:60},navbar:{width:300,breakpoint:"sm",collapsed:{mobile:!t,desktop:!a}},padding:"md",children:[(0,n.jsx)(i.V.Header,{children:(0,n.jsx)(Z,{opened:t,toggle:r,desktopOpened:a,toggleDesktop:l,lng:s})}),(0,n.jsx)(i.V.Navbar,{p:"md",children:(0,n.jsx)(U,{lng:s})}),(0,n.jsx)(i.V.Main,{children:e})]})})}},26699:e=>{e.exports={inner:"Header_inner__BWOOt",link:"Header_link___GWEF",actionIcon:"Header_actionIcon__d8zIz"}},74984:e=>{e.exports={footer:"NavbarNested_footer__gOMUs"}},30856:e=>{e.exports={user:"UserButton_user__IEgLw"}},7834:(e,s,t)=>{"use strict";t.a(e,async(e,n)=>{try{t.d(s,{Z:()=>e});var r=t(71851);let e=(await (0,r.createProxy)(String.raw`D:\MyCode\GameMantine\app\[lng]\decks\user\UserDecksPageClient.tsx`)).default;n()}catch(e){n(e)}},1)},73785:(e,s,t)=>{"use strict";t.a(e,async(e,n)=>{try{t.r(s),t.d(s,{default:()=>d,generateMetadata:()=>c});var r=t(89351);t(22052);var i=t(38859),o=t(46061),a=t(7834),l=e([i,a]);async function c({params:e}){let{lng:s}=await e,{t:t}=await (0,o.$)(s,"common");return{title:t("metadata.decks_user_title"),description:t("metadata.decks_user_description"),keywords:t("metadata.decks_user_keywords")}}[i,a]=l.then?(await l)():l;let d=async({params:e})=>{let{lng:s}=await e;return(0,r.jsx)(i.Z,{lng:s,children:(0,r.jsx)(a.Z,{lng:s})})};n()}catch(e){n(e)}})},46061:(e,s,t)=>{"use strict";t.d(s,{$:()=>l});var n=t(95131),r=t(25369),i=t(7372),o=t(24546);let a=async(e,s)=>{let a=(0,n.Fs)();return await a.use(i.D).use((0,r.Z)((e,s)=>t(53681)(`./${e}/${s}.json`))).init({...(0,o.FW)(e,s),load:"currentOnly"}),a};async function l(e,s,t={}){let n=await a(e,s);return{t:n.getFixedT(e,Array.isArray(s)?s[0]:s),i18n:n}}},38859:(e,s,t)=>{"use strict";t.a(e,async(e,n)=>{try{t.d(s,{Z:()=>e});var r=t(71851);let e=(await (0,r.createProxy)(String.raw`D:\MyCode\GameMantine\components\Layout\Layout.tsx`)).default;n()}catch(e){n(e)}},1)},94118:(e,s,t)=>{"use strict";t.d(s,{Z:()=>n});var n=(0,t(3915).Z)("outline","x","IconX",[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]])}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),n=s.X(0,[4147,9908,3828,5080,6429,434,4333,7139],()=>t(44289));module.exports=n})();