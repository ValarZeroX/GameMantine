(()=>{var e={};e.id=5763,e.ids=[5763],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},67096:e=>{"use strict";e.exports=require("bcrypt")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},209:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},79348:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30412:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},55315:e=>{"use strict";e.exports=require("path")},86624:e=>{"use strict";e.exports=require("querystring")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},24147:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,pages:()=>o,routeModule:()=>x,tree:()=>d});var s=a(3003),r=a(14293),l=a(66550),i=a.n(l),n=a(86979),c={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);a.d(t,c);let d=["",{children:["[lng]",{children:["cards",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,28249)),"D:\\MyCode\\GameMantine\\app\\[lng]\\cards\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,51028)),"D:\\MyCode\\GameMantine\\app\\[lng]\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,20691)),"D:\\MyCode\\GameMantine\\app\\[lng]\\not-found.tsx"]}]},{"not-found":[()=>Promise.resolve().then(a.t.bind(a,52075,23)),"next/dist/client/components/not-found-error"]}],o=["D:\\MyCode\\GameMantine\\app\\[lng]\\cards\\page.tsx"],m={require:a,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/[lng]/cards/page",pathname:"/[lng]/cards",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},40835:(e,t,a)=>{Promise.resolve().then(a.bind(a,62674)),Promise.resolve().then(a.bind(a,65886))},62674:(e,t,a)=>{"use strict";a.d(t,{default:()=>X});var s=a(68819),r=a(17266),l=a(10128),i=a(22887),n=a(19040),c=a(11348),d=a(71260),o=a(67852),m=a(46948),x=a(55987),h=a(82631),p=a(26622),u=a(50168),j=a(93610),g=a(58970),b=a(25257),_=a(56872),v=a(38750),f=a(64611),k=a(52165),y=a(93422),w=a(75923),C=a(61495),$=a(20020),Z=a(99705),T=a(47662),z=a(14420),P=a(48013),S=a(11439),q=a(99884),M=a(69928),E=a(57909),A=a(53036),N=a(64885),G=a(40688),R=a(23603),D=a(86231),L=a(90434),O=a(24103),F=a(67251),K=a.n(F),U=a(35047),H=a(33118),I=a(34462),W=a(46260);let X=({lng:e})=>{let{colorScheme:t}=(0,l.X)(),[a,F]=(0,r.useState)("#228be6"),[X,B]=(0,r.useState)("red");(0,r.useEffect)(()=>{"dark"===t?(F("white"),B("white")):(F("#228be6"),B("red"))},[t]),(0,U.useRouter)();let{t:J}=(0,O.$)(e,["pokemon","common","skill","ability","rule"]),[V,Q]=(0,H.Z)("searchTerm",""),[Y,ee]=(0,r.useState)([]),[et,ea]=(0,r.useState)([]),[es,er]=(0,r.useState)(null),[el,ei]=(0,r.useState)({}),[en,ec]=(0,r.useState)("grid"),[ed,eo]=(0,r.useState)("grid"),[em,ex]=(0,H.Z)("isFilterOpen",!0),[eh,ep]=(0,H.Z)("selectedSets",[]),[eu,ej]=(0,H.Z)("selectedDexs",[]),[eg,eb]=(0,H.Z)("selectedAspects",[]),[e_,ev]=(0,H.Z)("selectedRarity",[]),[ef,ek]=(0,H.Z)("selectedType",[]),[ey,ew]=(0,H.Z)("selectedWeakness",[]),[eC,e$]=(0,H.Z)("selectedRetreat",[]),[eZ,eT]=(0,H.Z)("hpRange",[0,250]),[ez,eP]=(0,H.Z)("attackRange",[0,250]),[eS,eq]=(0,r.useState)(20);(0,r.useEffect)(()=>{let e=localStorage.getItem("displayMode");("grid"===e||"list"===e)&&(eo(e),ec(e))},[]);let eM=e=>{eo(e),ec(e),localStorage.setItem("displayMode",e)},eE=e=>t=>{el[e]=t,ei(el)},eA=["A1","PROMO-A"].map(e=>({value:e,label:`(${e})${J(`common:cardSet.${e}`)}`})),eN=["A1C","A1M","A1P"].map(e=>({value:e,label:`(${e})${J(`common:cardDex.${e}`)}`})),eG=["grass","fire","water","lightning","psychic","fighting","darkness","metal","dragon","colorless"].map(e=>({value:e,label:`${J(`common:${e}`)}`})),eR=["Common","Uncommon","Rare","DoubleRare","ArtRare","SuperRare","ImmersiveRare","UltraRare"].map(e=>({value:e,label:`${J(`common:${e}`)}`})),eD=["pokemon","item","supporter"].map(e=>({value:e,label:`${J(`common:${e}`)}`})),eL=["1","2","3","4","5"].map(e=>({value:e,label:e})),eO=async e=>{try{let t=e.length>0?`?sets=${e.join(",")}`:"",a=await fetch(`/api/card${t}`);if(!a.ok)throw Error("無法取得卡片資料。");let s=await a.json();ea(s)}catch(e){ea([])}};(0,r.useEffect)(()=>{0===eh.length?(ea([]),ee([])):eO(eh)},[eh]),(0,r.useEffect)(()=>{let e=et;if(V){let t=V.toLowerCase();e=e.filter(e=>J(`pokemon:${e.name}`).toLowerCase().includes(t)||J(`skill:${e.attack_name_1}.name`).toLowerCase().includes(t)||J(`skill:${e.attack_name_1}.description`).toLowerCase().includes(t)||J(`skill:${e.attack_name_2}.name`).toLowerCase().includes(t)||J(`skill:${e.attack_name_2}.description`).toLowerCase().includes(t)||J(`ability:${e.ability_name}.name`).toLowerCase().includes(t)||J(`ability:${e.ability_name}.description`).toLowerCase().includes(t))}if(eh.length>0&&(e=e.filter(e=>eh.includes(e.set))),eu.length>0&&(e=e.filter(e=>e.dex.some(e=>eu.includes(e)))),eg.length>0){let t=eg.map(e=>W.KH[e]).filter(e=>"number"==typeof e);e=e.filter(e=>t.includes(e.aspects))}if(e_.length>0){let t=e_.map(e=>W.l6[e]).filter(e=>"number"==typeof e);e=e.filter(e=>t.includes(e.rarity))}if(ef.length>0){let t=ef.map(e=>W.D[e]).filter(e=>"number"==typeof e);e=e.filter(e=>t.includes(e.type))}if(ey.length>0){let t=ey.map(e=>W.KH[e]).filter(e=>"number"==typeof e);e=e.filter(e=>t.includes(e.weakness))}if(eC.length>0){let t=eC.map(e=>Number(e)).filter(e=>!isNaN(e));e=e.filter(e=>t.includes(e.retreat))}ee(e=(e=e.filter(e=>e.hp>=eZ[0]&&e.hp<=eZ[1])).filter(e=>e.attack_1>=ez[0]&&e.attack_1<=ez[1]||null!=e.attack_2&&e.attack_2>=ez[0]&&e.attack_2<=ez[1])),eq(20)},[et,V,eh,eu,eg,e_,ef,ey,eC,eZ,ez]);let eF=({option:e})=>(0,s.jsxs)(i.Z,{gap:"sm",children:[(0,s.jsx)(n.E,{src:`/common/${e.value}.webp`,alt:J(`common:${e.value}`),height:20,width:20}),(0,s.jsx)(c.Text,{size:"sm",children:J(`common:${e.value}`)})]}),eK=(0,s.jsx)(q.Z,{}),eU=[{title:J("common:navigation.home"),href:"/"},{title:J("common:navigation.cards"),href:"#"}].map((e,t)=>(0,s.jsx)(d.e,{href:e.href,children:e.title},t));return(0,s.jsxs)(o.W,{size:"lg",children:[(0,s.jsx)(m.O,{children:eU}),(0,s.jsx)(x.Title,{order:1,mt:"sm",children:J("common:title.cards_title")}),(0,s.jsxs)(i.Z,{align:"center",justify:"space-between",mb:"md",mt:"md",children:[(0,s.jsx)(h.N,{placeholder:J("common:set"),data:eA,searchable:!0,clearable:!0,value:eh,onChange:ep,maxValues:3}),(0,s.jsxs)(i.Z,{children:[(0,s.jsx)(p.A,{variant:"default",size:"lg",onClick:()=>{ej([]),eb([]),ev([]),ek([]),ew([]),e$([]),Q(""),eT([0,250]),eP([0,250])},children:(0,s.jsx)(M.Z,{})}),(0,s.jsx)(p.A,{variant:"default",size:"lg",onClick:()=>ex(!em),children:(0,s.jsx)(E.Z,{})}),(0,s.jsxs)("div",{className:K().root,dir:"ltr",ref:er,children:[(0,s.jsx)(u.G,{target:el[en],parent:es,className:K().indicator}),(0,s.jsxs)("div",{className:K().controlsGroup,children:[(0,s.jsx)(j.k,{variant:"default",size:"lg",className:K().control,"aria-label":"Category",onClick:()=>{ec("grid"),eM("grid")},ref:eE("grid"),mod:{active:"grid"===en},children:(0,s.jsx)(A.Z,{})}),(0,s.jsx)(j.k,{variant:"default",size:"lg",className:K().control,"aria-label":"ListDetails",onClick:()=>{ec("list"),eM("list")},ref:eE("list"),mod:{active:"list"===en},children:(0,s.jsx)(N.Z,{})})]})]})]})]}),(0,s.jsx)(g.V,{color:"blue",icon:eK,mt:"xl",children:(0,s.jsx)(c.Text,{children:J("common:please_select_up_to_3_series")})}),(0,s.jsxs)(b.U,{in:em,children:[(0,s.jsx)(_.i,{my:"xs",label:J("common:advancedFiltering"),labelPosition:"left"}),(0,s.jsx)(i.Z,{children:(0,s.jsx)(v.o,{placeholder:J("common:search_card"),value:V,onChange:e=>Q(e.target.value),leftSection:(0,s.jsx)(G.Z,{size:16}),radius:"md",size:"md",styles:{input:{width:300}}})}),(0,s.jsxs)(f.r,{mb:"md",children:[(0,s.jsx)(f.r.Col,{span:4,children:(0,s.jsx)(h.N,{label:J("common:dex"),placeholder:J("common:dex"),data:eN,searchable:!0,clearable:!0,value:eu,onChange:ej})}),(0,s.jsx)(f.r.Col,{span:4,children:(0,s.jsx)(h.N,{label:J("common:aspects"),placeholder:J("common:aspects"),data:eG,clearable:!0,renderOption:eF,value:eg,onChange:eb})}),(0,s.jsx)(f.r.Col,{span:4,children:(0,s.jsx)(h.N,{label:J("common:rarity"),placeholder:J("common:rarity"),data:eR,clearable:!0,renderOption:({option:e})=>(0,s.jsxs)(i.Z,{gap:"sm",children:[(0,s.jsx)(n.E,{src:`/common/${e.value}.webp`,alt:J(`common:${e.value}`),height:20,width:20}),(0,s.jsx)(c.Text,{size:"sm",children:J(`common:${e.value}`)})]}),value:e_,onChange:ev})})]}),(0,s.jsxs)(f.r,{mb:"md",children:[(0,s.jsx)(f.r.Col,{span:4,children:(0,s.jsx)(h.N,{label:J("common:type"),placeholder:J("common:type"),data:eD,clearable:!0,value:ef,onChange:ek})}),(0,s.jsx)(f.r.Col,{span:4,children:(0,s.jsx)(h.N,{label:J("common:weakness"),placeholder:J("common:weakness"),data:eG,clearable:!0,renderOption:eF,value:ey,onChange:ew})}),(0,s.jsx)(f.r.Col,{span:4,children:(0,s.jsx)(h.N,{label:J("common:retreat"),placeholder:J("common:retreat"),data:eL,clearable:!0,value:eC,onChange:e$})})]}),(0,s.jsxs)(f.r,{mb:"md",gutter:"md",children:[(0,s.jsx)(f.r.Col,{span:{base:12,sm:6,md:6},mt:"sm",children:(0,s.jsx)(k.K,{children:(0,s.jsx)(y.U,{min:0,max:250,value:eZ,onChange:eT,marks:[{value:0,label:"0"},{value:50,label:"50"},{value:100,label:"100"},{value:150,label:"150"},{value:200,label:"200"},{value:250,label:"250"}],"aria-label":J("common:hp_range"),thumbSize:26,thumbChildren:[(0,s.jsx)(R.Z,{size:"1rem",color:X},"1"),(0,s.jsx)(R.Z,{size:"1rem",color:X},"2")],color:"red"})})}),(0,s.jsx)(f.r.Col,{span:{base:12,sm:6,md:6},mt:"sm",children:(0,s.jsx)(k.K,{children:(0,s.jsx)(y.U,{min:0,max:250,value:ez,onChange:eP,marks:[{value:0,label:"0"},{value:50,label:"50"},{value:100,label:"100"},{value:150,label:"150"},{value:200,label:"200"},{value:250,label:"250"}],"aria-label":J("common:attack_range"),thumbSize:26,thumbChildren:[(0,s.jsx)(D.Z,{size:"1rem",color:a},"3"),(0,s.jsx)(D.Z,{size:"1rem",color:a},"4")]})})})]})]}),(0,s.jsx)(I.Z,{dataLength:eS,next:()=>{eq(e=>e+20)},hasMore:eS<Y.length,loader:(0,s.jsx)(w.M,{children:(0,s.jsx)(C.a,{size:"md",my:"md"})}),endMessage:(0,s.jsx)(s.Fragment,{}),style:{width:"100%",overflow:"hidden"},children:"grid"===ed?(0,s.jsx)(f.r,{mt:"md",columns:10,children:Y.slice(0,eS).map(t=>(0,s.jsx)(f.r.Col,{span:{base:5,sm:2,md:2,lg:2},children:(0,s.jsx)(L.default,{href:`/${e}/cards/${t.number}`,passHref:!0,style:{textDecoration:"none"},children:(0,s.jsxs)($.Z,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,children:[(0,s.jsx)($.Z.Section,{children:(0,s.jsx)(n.E,{src:`/${e}/${t.set}/${t.number}.webp`,alt:J(`pokemon:${t.name}`),loading:"lazy"})}),(0,s.jsxs)(k.K,{mt:"md",align:"center",gap:"xs",children:[(0,s.jsx)(c.Text,{fw:700,size:"lg",children:J(`pokemon:${t.name}`)}),(0,s.jsx)(c.Text,{c:"dimmed",size:"sm",children:t.number}),(0,s.jsxs)(Z.k,{gap:"xs",justify:"center",wrap:"wrap",children:[(0,s.jsx)(T.C,{color:"blue",variant:"light",children:J(`common:cardSet.${t.set}`)}),t.dex.filter(e=>"NO"!==e).map((e,t)=>(0,s.jsx)(T.C,{color:"green",variant:"outline",children:J(`common:cardDex.${e}`)},t))]})]})]})})},t.id))}):(0,s.jsx)(i.Z,{mt:"md",children:(0,s.jsx)($.Z,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,children:(0,s.jsx)(z.x,{children:(0,s.jsx)(P.x,{w:1060,children:(0,s.jsxs)(S.i,{striped:!0,verticalSpacing:"lg",children:[(0,s.jsx)(S.i.Thead,{children:(0,s.jsxs)(S.i.Tr,{children:[(0,s.jsx)(S.i.Th,{style:{textAlign:"center"},children:J("common:name")}),(0,s.jsx)(S.i.Th,{children:J("common:aspects")}),(0,s.jsx)(S.i.Th,{children:J("common:hp")}),(0,s.jsx)(S.i.Th,{children:J("common:stage")}),(0,s.jsx)(S.i.Th,{children:J("common:rarity")}),(0,s.jsx)(S.i.Th,{children:J("common:weakness")}),(0,s.jsx)(S.i.Th,{children:J("common:retreat")}),(0,s.jsxs)(S.i.Th,{style:{width:300},children:[J("common:attack")," & ",J("common:ability")]})]})}),(0,s.jsx)(S.i.Tbody,{children:Y.slice(0,eS).map(t=>(0,s.jsxs)(S.i.Tr,{children:[(0,s.jsx)(S.i.Td,{children:(0,s.jsxs)(i.Z,{children:[" ",(0,s.jsx)(n.E,{src:`/${e}/${t.set}/${t.number}.webp`,alt:J(`pokemon:${t.name}`),loading:"lazy",style:{width:100}}),(0,s.jsxs)(k.K,{gap:"xs",align:"center",children:[(0,s.jsx)(c.Text,{mt:"xs",children:J(`pokemon:${t.name}`)}),(0,s.jsxs)(c.Text,{c:"dimmed",size:"xs",mt:"xs",children:["#",t.number]})]})]})}),(0,s.jsx)(S.i.Td,{children:0===t.type?(0,s.jsx)(i.Z,{children:(0,s.jsx)(n.E,{src:W.PZ[t.aspects],alt:"Element Aspect",height:20,width:20})}):null}),(0,s.jsx)(S.i.Td,{children:(0,s.jsx)(T.C,{size:"lg",circle:!0,variant:"gradient",gradient:{from:"red",to:"violet",deg:90},children:(0,s.jsx)(c.Text,{size:"xs",children:t.hp})})}),(0,s.jsx)(S.i.Td,{children:(0,s.jsx)(T.C,{color:"blue",children:J(`common:cardStage.${t.stage}`)})}),(0,s.jsx)(S.i.Td,{children:0!==t.rarity&&(0,s.jsx)(i.Z,{children:(0,s.jsx)(n.E,{src:W.JG[t.rarity],alt:"Rarity",height:20,width:20})})}),(0,s.jsx)(S.i.Td,{children:10!==t.weakness&&(0,s.jsxs)(i.Z,{children:[(0,s.jsx)(n.E,{src:W.PZ[t.weakness],alt:"Weakness",height:20,width:20}),(0,s.jsx)(T.C,{size:"lg",circle:!0,variant:"gradient",gradient:{from:"red",to:"violet",deg:90},children:(0,s.jsx)(c.Text,{size:"xs",children:t.weakness_value})})]})}),(0,s.jsx)(S.i.Td,{children:(0,s.jsx)(i.Z,{gap:"xs",children:t.retreat_aspects.filter(e=>99!==e).map((e,t)=>(0,s.jsx)(n.E,{src:W.PZ[e],alt:`Aspect ${e}`,height:20,width:20},t))})}),(0,s.jsx)(S.i.Td,{children:0===t.type?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(T.C,{children:J(`skill:${t.attack_name_1}.name`)}),(0,s.jsxs)(i.Z,{gap:"xs",mt:"xs",children:[(0,s.jsx)(T.C,{size:"lg",circle:!0,variant:"gradient",gradient:{from:"red",to:"violet",deg:90},children:(0,s.jsx)(c.Text,{size:"xs",children:t.attack_1})}),t.attack_aspects_1.map((e,t)=>(0,s.jsx)(n.E,{src:W.PZ[e],alt:"Aspect",height:20,width:20},t))]}),t.attack_skill_name_1&&t.attack_skill_name_1.length>0&&(0,s.jsx)(c.Text,{c:"dimmed",size:"xs",mt:"xs",children:J(`skill:${t.attack_name_1}.description`)}),t.attack_aspects_2&&t.attack_aspects_2.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(_.i,{my:"md"}),(0,s.jsx)(T.C,{children:J(`skill:${t.attack_name_2}.name`)}),(0,s.jsxs)(i.Z,{gap:"xs",mt:"xs",children:[(0,s.jsx)(T.C,{size:"lg",circle:!0,variant:"gradient",gradient:{from:"red",to:"violet",deg:90},children:(0,s.jsx)(c.Text,{size:"xs",children:t.attack_2})}),t.attack_aspects_2.map((e,t)=>(0,s.jsx)(n.E,{src:W.PZ[e],alt:"Aspect",height:20,width:20},t))]})]}),t.attack_skill_name_2&&t.attack_skill_name_2.length>0&&(0,s.jsx)(c.Text,{c:"dimmed",size:"xs",mt:"xs",children:J(`skill:${t.attack_name_2}.description`)}),t.ability_name&&t.ability_name.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(_.i,{my:"md"}),(0,s.jsx)(T.C,{color:"orange",children:(0,s.jsx)(c.Text,{size:"xs",children:J(`ability:${t.ability_name}.name`)})}),(0,s.jsx)(c.Text,{c:"dimmed",size:"xs",mt:"xs",children:J(`ability:${t.ability_name}.description`)})]})]}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(c.Text,{c:"dimmed",children:J(`rule:${t.attack_skill_name_1}`)})})})]},t.number))})]})})})})})})]})}},67251:e=>{e.exports={root:"CardsPage_root__Jqhv8",indicator:"CardsPage_indicator__XwNHG",controlsGroup:"CardsPage_controlsGroup__fxcj2",control:"CardsPage_control__kxZAS"}},79816:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{Z:()=>e});var r=a(71851);let e=(await (0,r.createProxy)(String.raw`D:\MyCode\GameMantine\app\[lng]\cards\CardsListClient.tsx`)).default;s()}catch(e){s(e)}},1)},28249:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.r(t),a.d(t,{default:()=>o,generateMetadata:()=>d});var r=a(89351);a(22052);var l=a(38859),i=a(46061),n=a(79816),c=e([l,n]);async function d({params:e}){let{lng:t}=await e,{t:a}=await (0,i.$)(t,"common");return{title:a("metadata.cards_page_title"),description:a("metadata.cards_page_description"),keywords:a("metadata.cards_page_keywords")}}[l,n]=c.then?(await c)():c;let o=async({params:e})=>{let{lng:t}=await e;return(0,r.jsx)(l.Z,{lng:t,children:(0,r.jsx)(n.Z,{lng:t})})};s()}catch(e){s(e)}})}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[4147,9908,3828,6127,1402,434,4333,8750,2583,765,6447,1832],()=>a(24147));module.exports=s})();